<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[Blog - Erwan Deruelle]]></title><description><![CDATA[Full-stack developer - IT Architect]]></description><link>https://d3rwan.github.io/d3rwan-blog</link><generator>GatsbyJS</generator><lastBuildDate>Wed, 15 Apr 2020 14:51:00 GMT</lastBuildDate><item><title><![CDATA[A la découverte de Vector]]></title><description><![CDATA[Vector est un router de données d'observabilité haute-performance, open-source et écrit en Rust. Un Logstash killer ?]]></description><link>https://d3rwan.github.io/d3rwan-blog/posts/decouverte-vector</link><guid isPermaLink="false">https://d3rwan.github.io/d3rwan-blog/posts/decouverte-vector</guid><pubDate>Tue, 14 Apr 2020 12:00:00 GMT</pubDate><content:encoded>&lt;h2 id=&quot;tldr&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#tldr&quot; aria-label=&quot;tldr permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;TL/DR&lt;/h2&gt;
&lt;p&gt;En 2 briques, &lt;code class=&quot;language-text&quot;&gt;Logstash&lt;/code&gt; ? ETL ! &lt;code class=&quot;language-text&quot;&gt;Rust&lt;/code&gt; ? &lt;a href=&quot;https://vector.dev/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Vector&lt;/a&gt; !
On peut effectivement décrire Vector comme un Logstash qu’on aurait réécrit en Rust, avec tous les avantages inhérents au langage (performance, binaire natif), mais les défauts d’une solution encore très jeune (nombre de modules limités, peu de références).
On notera que la documentation semble plutôt bien faite, et que les composants natifs permettent de gérer beaucoup de use-case simple de monitoring.
Et comme on peut convenir que Logstash n’est pas le meilleur produit du monde, espérons que Vector trouve sa place dans les prochains mois dans la communauté.
Et en plus, ca tombe bien, Vector propose nativement des modules équivalents à ceux de Logstash, ce qui fait que la migration ne sera pas compliquée !     &lt;/p&gt;
&lt;h2 id=&quot;après-tout-on-a-le-temps-non--confinement&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#apr%C3%A8s-tout-on-a-le-temps-non--confinement&quot; aria-label=&quot;après tout on a le temps non  confinement permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Après-tout, on a le temps non ? #Confinement&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://vector.dev/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Vector&lt;/a&gt; se défini comme un routeur de données d’observabilité haute-performance, qui permet la collecte, la transformation et l’envoi d’événements (logs et/ou métriques).&lt;/p&gt;
&lt;h3 id=&quot;fonctionnement-conceptuel&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#fonctionnement-conceptuel&quot; aria-label=&quot;fonctionnement conceptuel permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Fonctionnement conceptuel&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;/d3rwan-blog/media/vector/concept.png&quot;&gt;&lt;/p&gt;
&lt;p&gt;Il s’agit basiquement d’un ETL qui s’appuie sur les notions suivantes:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Source&lt;/strong&gt; (aka. E / Extract)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Récupération des données brutes depuis l’endroit où elles sont produites.
Par exemple, on pourra &lt;a href=&quot;https://vector.dev/docs/reference/sources/file/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;lire les logs dans un fichier&lt;/a&gt;, &lt;a href=&quot;https://vector.dev/docs/reference/sources/kafka/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;écouter une file Kafka&lt;/a&gt; ou &lt;a href=&quot;https://vector.dev/docs/reference/sources/statsd/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;récupérer des métriques de StatsD&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Transform&lt;/strong&gt; (aka. T / Transform)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Transformation des données brutes, ou du flux complet de données,
Par exemple, on pourra &lt;a href=&quot;https://vector.dev/docs/reference/transforms/filter/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;filtrer des entrées&lt;/a&gt; ou encore &lt;a href=&quot;https://vector.dev/docs/reference/transforms/regex_parser/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;parser un log selon une expression régulière&lt;/a&gt; &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Sink&lt;/strong&gt; (aka. L / Load)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Destination des données lues et transformées. Chaque module enverra les données de manière unitaire ou sous la forme d’un stream en fonction du service cible.
Par exemple, on pourra &lt;a href=&quot;https://vector.dev/docs/reference/sinks/aws_s3/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;sauvegarder les données brutes sous Amazon S3&lt;/a&gt;, les &lt;a href=&quot;https://vector.dev/docs/reference/sinks/elasticsearch/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;indexer dans un cluster Elasticsearch&lt;/a&gt; ou les &lt;a href=&quot;https://vector.dev/docs/reference/sinks/prometheus/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;exposer à Prometheus&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;fonctionnalités&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#fonctionnalit%C3%A9s&quot; aria-label=&quot;fonctionnalités permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Fonctionnalités&lt;/h3&gt;
&lt;h4 id=&quot;rapide&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#rapide&quot; aria-label=&quot;rapide permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Rapide&lt;/h4&gt;
&lt;p&gt;Ecrit en Rust, Vector est très rapide avec une gestion efficiente de la mémoire.
Le tout sans runtime, ni garbage collector.&lt;/p&gt;
&lt;h4 id=&quot;un-outil-unique-de-la-source-à-la-destination&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#un-outil-unique-de-la-source-%C3%A0-la-destination&quot; aria-label=&quot;un outil unique de la source à la destination permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Un outil unique, de la source à la destination&lt;/h4&gt;
&lt;p&gt;Vector propose plusieurs stratégies de déploiement afin de pouvoir être utilisé par tous, quelque-soit le contexte. &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://vector.dev/docs/setup/deployment/strategies/#daemon&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Déploiement en tant que Démon&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Ici, on lancera une instance de Vector en tâche de fond pour collecter &lt;em&gt;toutes&lt;/em&gt; les données du serveur hôte
&lt;img src=&quot;/d3rwan-blog/media/vector/strategy_daemon.png&quot;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://vector.dev/docs/setup/deployment/strategies/#sidecar&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Déploiement en tant que Sidecar&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Dans cette stratégie, on lancera une instance de Vector par service à monitorer.
&lt;img src=&quot;/d3rwan-blog/media/vector/strategy_sidecar.png&quot;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://vector.dev/docs/setup/deployment/strategies/#service&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Déploiement en tant que Service&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Ici, Vector est lancé en tant qu’un service dédié.
&lt;img src=&quot;/d3rwan-blog/media/vector/strategy_service.png&quot;&gt;&lt;/p&gt;
&lt;p&gt;En utilisant et/ou combinant ces stratégies, on peut donc définir des topologies d’architecture de collecte de données&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://vector.dev/docs/setup/deployment/topologies/#distributed&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Collecte distribuée&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Dans cette topologie, chaque instance de Vector va directement envoyer les données au(x) service(s) cibles.
Il s’agit du cas le plus simple, et qui permet de &lt;em&gt;scaler&lt;/em&gt; facilement.
Néanmoins, il peut induire des pertes de performance locales ou de données.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/d3rwan-blog/media/vector/topology_distributed.png&quot;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://vector.dev/docs/setup/deployment/topologies/#centralized&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Collecte Centralisée&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Ici, chaque instance de Vector va envoyer les données à une instance centrale, chargée d’effectuer les opérations les plus coûteuses.
De fait, moins d’impact sur les performances locales des applicatifs, mais un service centrale en tant que &lt;a href=&quot;https://fr.wikipedia.org/wiki/Point_de_d%C3%A9faillance_unique&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;SPOF&lt;/a&gt;&lt;br&gt;
&lt;img src=&quot;/d3rwan-blog/media/vector/topology_centralized.png&quot;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://vector.dev/docs/setup/deployment/topologies/#stream-based&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Collecte Streamée&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Variante de la topologie précédente, dans laquelle on va rajouter un broker en amont du service centrale afin de supprimer le SPOF.&lt;br&gt;
Cette topologie est la plus scalable et durable, mais aussi la plus complexe à mettre en place.  &lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/d3rwan-blog/media/vector/topology_stream.png&quot;&gt;&lt;/p&gt;
&lt;h4 id=&quot;simplicité-de-déploiement&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#simplicit%C3%A9-de-d%C3%A9ploiement&quot; aria-label=&quot;simplicité de déploiement permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Simplicité de déploiement&lt;/h4&gt;
&lt;p&gt;Concu en Rust, Vector se présente donc sous la forme d’un binaire cross-compilé pour l’os cible, et ne nécessite pas de runtime type JVM&lt;/p&gt;
&lt;h2 id=&quot;bon-ok-mais-ca-marche-au-moins-&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#bon-ok-mais-ca-marche-au-moins-&quot; aria-label=&quot;bon ok mais ca marche au moins  permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Bon, OK, mais ca marche au moins ?&lt;/h2&gt;
&lt;p&gt;Pour tester Vector, je vais m’inspirer d’un post précédent : &lt;a href=&quot;https://d3rwan.github.io/d3rwan-blog/posts/elk-depuis-zero&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Une stack ELK from scratch avec Docker&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/d3rwan-blog/media/vector/archi.png&quot;&gt;&lt;em&gt;Architecture de notre POC&lt;/em&gt; &lt;/p&gt;
&lt;p&gt;Dans le cas présent, je vais m’appuyer sur :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Elasticsearch, comme moteur d’indexation, de recherche &amp;#x26; d’analytics,&lt;/li&gt;
&lt;li&gt;Kibana, comme IHM de visualisation et de génération de tableaux de bord interactifs&lt;/li&gt;
&lt;li&gt;Vector, en tant que service central, pour transformer les données et les envoyer vers Elasticsearch,&lt;/li&gt;
&lt;li&gt;Kafka, en tant que broker en amont de ma stack de monitoring&lt;/li&gt;
&lt;li&gt;Vector, en tant qu’agent, pour récupérer les données sources et les envoyer vers Kafka&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;On se positionne donc dans la topologie de &lt;a href=&quot;https://vector.dev/docs/setup/deployment/topologies/#stream-based&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Collecte Streamée&lt;/a&gt; décrite ci-avant&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;L’ensemble des services et des interactions sont décrites dans un fichier docker-compose.yml:&lt;/p&gt;
&lt;p&gt;&lt;div id=&quot;gist102398526&quot; class=&quot;gist&quot;&gt;
    &lt;div class=&quot;gist-file&quot;&gt;
      &lt;div class=&quot;gist-data&quot;&gt;
        &lt;div class=&quot;js-gist-file-update-container js-task-list-container file-box&quot;&gt;
  &lt;div id=&quot;file-docker-compose-yml&quot; class=&quot;file&quot;&gt;
    

  &lt;div itemprop=&quot;text&quot; class=&quot;Box-body p-0 blob-wrapper data type-yaml &quot;&gt;
      
&lt;table class=&quot;highlight tab-size js-file-line-container&quot; data-tab-size=&quot;8&quot; data-paste-markdown-skip&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L1&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;1&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC1&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-ent&quot;&gt;version&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;3.7&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L2&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;2&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC2&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L3&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;3&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC3&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-ent&quot;&gt;services&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L4&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;4&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC4&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L5&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;5&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC5&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=&quot;pl-ent&quot;&gt;zookeeper&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L6&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;6&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC6&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;image&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;confluentinc/cp-zookeeper:5.4.0&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L7&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;7&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC7&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;hostname&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;zookeeper&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L8&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;8&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC8&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;container_name&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;zookeeper&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L9&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;9&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC9&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;ports&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L10&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;10&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC10&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      - &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;2181:2181&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L11&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;11&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC11&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;environment&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L12&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;12&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC12&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      &lt;span class=&quot;pl-ent&quot;&gt;ZOOKEEPER_CLIENT_PORT&lt;/span&gt;: &lt;span class=&quot;pl-c1&quot;&gt;2181&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L13&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;13&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC13&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      &lt;span class=&quot;pl-ent&quot;&gt;ZOOKEEPER_TICK_TIME&lt;/span&gt;: &lt;span class=&quot;pl-c1&quot;&gt;2000&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L14&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;14&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC14&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L15&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;15&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC15&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=&quot;pl-ent&quot;&gt;kafka&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L16&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;16&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC16&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;image&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;confluentinc/cp-enterprise-kafka:5.4.0&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L17&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;17&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC17&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;hostname&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;kafka&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L18&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;18&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC18&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;container_name&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;kafka&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L19&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;19&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC19&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;depends_on&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L20&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;20&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC20&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      - &lt;span class=&quot;pl-s&quot;&gt;zookeeper&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L21&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;21&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC21&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;ports&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L22&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;22&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC22&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      - &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;29092:29092&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L23&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;23&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC23&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      - &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;9092:9092&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L24&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;24&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC24&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;environment&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L25&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;25&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC25&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      &lt;span class=&quot;pl-ent&quot;&gt;KAFKA_BROKER_ID&lt;/span&gt;: &lt;span class=&quot;pl-c1&quot;&gt;1&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L26&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;26&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC26&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      &lt;span class=&quot;pl-ent&quot;&gt;KAFKA_ZOOKEEPER_CONNECT&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;zookeeper:2181&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L27&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;27&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC27&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      &lt;span class=&quot;pl-ent&quot;&gt;KAFKA_LISTENER_SECURITY_PROTOCOL_MAP&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L28&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;28&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC28&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      &lt;span class=&quot;pl-ent&quot;&gt;KAFKA_ADVERTISED_LISTENERS&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;PLAINTEXT://kafka:29092,PLAINTEXT_HOST://localhost:9092&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L29&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;29&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC29&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      &lt;span class=&quot;pl-ent&quot;&gt;KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR&lt;/span&gt;: &lt;span class=&quot;pl-c1&quot;&gt;1&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L30&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;30&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC30&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      &lt;span class=&quot;pl-ent&quot;&gt;KAFKA_GROUP_INITIAL_REBALANCE_DELAY_MS&lt;/span&gt;: &lt;span class=&quot;pl-c1&quot;&gt;0&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L31&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;31&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC31&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L32&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;32&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC32&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=&quot;pl-ent&quot;&gt;elasticsearch&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L33&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;33&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC33&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;image&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;docker.elastic.co/elasticsearch/elasticsearch:7.6.2&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L34&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;34&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC34&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;container_name&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;elastic&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L35&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;35&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC35&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;environment&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L36&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;36&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC36&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      - &lt;span class=&quot;pl-s&quot;&gt;ES_JAVA_OPTS=-Xms1g -Xmx1g&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L37&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;37&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC37&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      - &lt;span class=&quot;pl-s&quot;&gt;discovery.type=single-node&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L38&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;38&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC38&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      - &lt;span class=&quot;pl-s&quot;&gt;network.host=_site_, _local_&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L39&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;39&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC39&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;ulimits&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L40&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;40&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC40&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      &lt;span class=&quot;pl-ent&quot;&gt;memlock&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L41&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;41&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC41&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;        &lt;span class=&quot;pl-ent&quot;&gt;soft&lt;/span&gt;: &lt;span class=&quot;pl-c1&quot;&gt;-1&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L42&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;42&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC42&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;        &lt;span class=&quot;pl-ent&quot;&gt;hard&lt;/span&gt;: &lt;span class=&quot;pl-c1&quot;&gt;-1&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L43&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;43&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC43&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;ports&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L44&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;44&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC44&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      - &lt;span class=&quot;pl-c1&quot;&gt;9200:9200&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L45&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;45&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC45&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      - &lt;span class=&quot;pl-c1&quot;&gt;9300:9300&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L46&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;46&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC46&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L47&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;47&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC47&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=&quot;pl-ent&quot;&gt;vector&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L48&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;48&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC48&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;image&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;timberio/vector:0.8.0-alpine&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L49&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;49&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC49&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;container_name&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;vector&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L50&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;50&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC50&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;ports&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L51&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;51&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC51&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      - &lt;span class=&quot;pl-c1&quot;&gt;8888:8888&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L52&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;52&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC52&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;volumes&lt;/span&gt;: &lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L53&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;53&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC53&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      - &lt;span class=&quot;pl-s&quot;&gt;$PWD/vector.toml:/etc/vector/vector.toml:ro&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L54&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;54&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC54&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;depends_on&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L55&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;55&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC55&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      - &lt;span class=&quot;pl-s&quot;&gt;kafka&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L56&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;56&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC56&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      - &lt;span class=&quot;pl-s&quot;&gt;elasticsearch&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L57&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;57&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC57&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L58&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;58&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC58&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=&quot;pl-ent&quot;&gt;kibana&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L59&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;59&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC59&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;image&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;docker.elastic.co/kibana/kibana:7.6.2&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L60&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;60&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC60&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;container_name&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;kibana&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L61&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;61&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC61&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;ports&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L62&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;62&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC62&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      - &lt;span class=&quot;pl-c1&quot;&gt;5601:5601&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L63&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;63&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC63&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;depends_on&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L64&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;64&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC64&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      - &lt;span class=&quot;pl-s&quot;&gt;elasticsearch&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L65&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;65&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC65&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L66&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;66&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC66&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=&quot;pl-ent&quot;&gt;webapp&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L67&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;67&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC67&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;build&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;./webapp/&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L68&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;68&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC68&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;container_name&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;webapp&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L69&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;69&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC69&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;ports&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L70&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;70&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC70&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      - &lt;span class=&quot;pl-c1&quot;&gt;80:80&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L71&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;71&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC71&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      - &lt;span class=&quot;pl-c1&quot;&gt;9999:9999&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
&lt;/table&gt;


  &lt;/div&gt;

  &lt;/div&gt;
&lt;/div&gt;

      &lt;/div&gt;
      &lt;div class=&quot;gist-meta&quot;&gt;
        &lt;a href=&quot;https://gist.github.com/d3rwan/13aba18e159c340b2947992bfbb45f81/raw/c994e66bcae65ee522cd1c8db7db04e51a6b8635/docker-compose.yml&quot; style=&quot;float:right&quot;&gt;view raw&lt;/a&gt;
        &lt;a href=&quot;https://gist.github.com/d3rwan/13aba18e159c340b2947992bfbb45f81#file-docker-compose-yml&quot;&gt;docker-compose.yml&lt;/a&gt;
        hosted with &amp;#10084; by &lt;a href=&quot;https://github.com&quot;&gt;GitHub&lt;/a&gt;
      &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;Le service central Vector est configuré comme suit:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Lecture des événements depuis le broker Kafka&lt;/li&gt;
&lt;li&gt;Parsing du JSON de l’événement envoyé depuis l’agent Vector&lt;/li&gt;
&lt;li&gt;Parsing Grok (format Logstash) de la ligne de log brute&lt;/li&gt;
&lt;li&gt;Indexation vers Elasticsearch&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;div id=&quot;gist102398526&quot; class=&quot;gist&quot;&gt;
    &lt;div class=&quot;gist-file&quot;&gt;
      &lt;div class=&quot;gist-data&quot;&gt;
        &lt;div class=&quot;js-gist-file-update-container js-task-list-container file-box&quot;&gt;
  &lt;div id=&quot;file-vector-toml&quot; class=&quot;file&quot;&gt;
    

  &lt;div itemprop=&quot;text&quot; class=&quot;Box-body p-0 blob-wrapper data type-toml &quot;&gt;
      
&lt;table class=&quot;highlight tab-size js-file-line-container&quot; data-tab-size=&quot;8&quot; data-paste-markdown-skip&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-vector-toml-L1&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;1&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-vector-toml-LC1&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;#&lt;/span&gt; Set global options&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-vector-toml-L2&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;2&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-vector-toml-LC2&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-smi&quot;&gt;data_dir&lt;/span&gt; = &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;/var/lib/vector&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-vector-toml-L3&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;3&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-vector-toml-LC3&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-vector-toml-L4&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;4&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-vector-toml-LC4&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;[&lt;span class=&quot;pl-en&quot;&gt;sources&lt;/span&gt;.&lt;span class=&quot;pl-en&quot;&gt;from_broker&lt;/span&gt;]&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-vector-toml-L5&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;5&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-vector-toml-LC5&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=&quot;pl-smi&quot;&gt;type&lt;/span&gt; = &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;kafka&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-vector-toml-L6&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;6&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-vector-toml-LC6&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=&quot;pl-smi&quot;&gt;bootstrap_servers&lt;/span&gt; = &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;kafka:29092&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-vector-toml-L7&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;7&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-vector-toml-LC7&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=&quot;pl-smi&quot;&gt;group_id&lt;/span&gt; = &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;vector-consumer&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-vector-toml-L8&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;8&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-vector-toml-LC8&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=&quot;pl-smi&quot;&gt;topics&lt;/span&gt; = [&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;events&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;]&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-vector-toml-L9&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;9&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-vector-toml-LC9&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-vector-toml-L10&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;10&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-vector-toml-LC10&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;[&lt;span class=&quot;pl-en&quot;&gt;transforms&lt;/span&gt;.&lt;span class=&quot;pl-en&quot;&gt;json_parser&lt;/span&gt;]&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-vector-toml-L11&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;11&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-vector-toml-LC11&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=&quot;pl-smi&quot;&gt;type&lt;/span&gt;   = &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;json_parser&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-vector-toml-L12&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;12&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-vector-toml-LC12&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=&quot;pl-smi&quot;&gt;inputs&lt;/span&gt; = [&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;from_broker&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;]&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-vector-toml-L13&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;13&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-vector-toml-LC13&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=&quot;pl-smi&quot;&gt;drop_field&lt;/span&gt; = &lt;span class=&quot;pl-c1&quot;&gt;true&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-vector-toml-L14&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;14&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-vector-toml-LC14&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=&quot;pl-smi&quot;&gt;field&lt;/span&gt; = &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;message&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-vector-toml-L15&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;15&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-vector-toml-LC15&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-vector-toml-L16&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;16&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-vector-toml-LC16&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;[&lt;span class=&quot;pl-en&quot;&gt;transforms&lt;/span&gt;.&lt;span class=&quot;pl-en&quot;&gt;log_parser&lt;/span&gt;]&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-vector-toml-L17&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;17&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-vector-toml-LC17&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=&quot;pl-smi&quot;&gt;type&lt;/span&gt;   = &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;grok_parser&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-vector-toml-L18&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;18&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-vector-toml-LC18&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=&quot;pl-smi&quot;&gt;inputs&lt;/span&gt; = [&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;json_parser&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;]&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-vector-toml-L19&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;19&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-vector-toml-LC19&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=&quot;pl-smi&quot;&gt;pattern&lt;/span&gt; = &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;%{IPORHOST:client} - %{USERNAME:user} \[%{HTTPDATE:timestamp}\] \&amp;quot;%{WORD:verb} %{NOTSPACE:path} HTTP/%{NUMBER}\&amp;quot; %{INT:status} %{NUMBER:bytes} \&amp;quot;%{DATA:referer}\&amp;quot; \&amp;quot;%{DATA:user_agent}\&amp;quot;&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-vector-toml-L20&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;20&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-vector-toml-LC20&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=&quot;pl-smi&quot;&gt;types.status&lt;/span&gt; = &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;int&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-vector-toml-L21&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;21&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-vector-toml-LC21&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=&quot;pl-smi&quot;&gt;types.bytes&lt;/span&gt; = &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;int&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-vector-toml-L22&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;22&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-vector-toml-LC22&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=&quot;pl-smi&quot;&gt;types.timestamp&lt;/span&gt; = &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;timestamp|%d/%b/%Y:%H:%M:%S %z&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-vector-toml-L23&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;23&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-vector-toml-LC23&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-vector-toml-L24&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;24&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-vector-toml-LC24&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;[&lt;span class=&quot;pl-en&quot;&gt;sinks&lt;/span&gt;.&lt;span class=&quot;pl-en&quot;&gt;to_indexer&lt;/span&gt;]&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-vector-toml-L25&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;25&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-vector-toml-LC25&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=&quot;pl-smi&quot;&gt;type&lt;/span&gt; = &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;elasticsearch&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-vector-toml-L26&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;26&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-vector-toml-LC26&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=&quot;pl-smi&quot;&gt;inputs&lt;/span&gt; = [&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;log_parser&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;]&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-vector-toml-L27&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;27&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-vector-toml-LC27&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=&quot;pl-smi&quot;&gt;healthcheck&lt;/span&gt; = &lt;span class=&quot;pl-c1&quot;&gt;false&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-vector-toml-L28&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;28&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-vector-toml-LC28&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=&quot;pl-smi&quot;&gt;host&lt;/span&gt; = &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;http://elasticsearch:9200&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-vector-toml-L29&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;29&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-vector-toml-LC29&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-vector-toml-L30&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;30&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-vector-toml-LC30&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;[[&lt;span class=&quot;pl-en&quot;&gt;tests&lt;/span&gt;]]&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-vector-toml-L31&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;31&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-vector-toml-LC31&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=&quot;pl-smi&quot;&gt;name&lt;/span&gt; = &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;test_log_parser&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-vector-toml-L32&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;32&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-vector-toml-LC32&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-vector-toml-L33&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;33&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-vector-toml-LC33&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  [[&lt;span class=&quot;pl-en&quot;&gt;tests&lt;/span&gt;.&lt;span class=&quot;pl-en&quot;&gt;inputs&lt;/span&gt;]]&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-vector-toml-L34&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;34&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-vector-toml-LC34&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-smi&quot;&gt;insert_at&lt;/span&gt; = &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;json_parser&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-vector-toml-L35&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;35&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-vector-toml-LC35&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-smi&quot;&gt;type&lt;/span&gt; = &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;raw&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-vector-toml-L36&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;36&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-vector-toml-LC36&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-smi&quot;&gt;value&lt;/span&gt; = &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;172.21.0.1 - - [28/Feb/2020:12:38:46 +0000] &amp;quot;GET /path/to/a HTTP/1.1&amp;quot; 200 46459 &amp;quot;http://localhost/path/to/b&amp;quot; &amp;quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.122 Safari/537.36&amp;quot; &amp;quot;-&amp;quot;&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-vector-toml-L37&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;37&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-vector-toml-LC37&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-vector-toml-L38&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;38&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-vector-toml-LC38&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  [[&lt;span class=&quot;pl-en&quot;&gt;tests&lt;/span&gt;.&lt;span class=&quot;pl-en&quot;&gt;outputs&lt;/span&gt;]]&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-vector-toml-L39&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;39&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-vector-toml-LC39&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-smi&quot;&gt;extract_from&lt;/span&gt; = &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;log_parser&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-vector-toml-L40&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;40&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-vector-toml-LC40&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-vector-toml-L41&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;41&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-vector-toml-LC41&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    [[&lt;span class=&quot;pl-en&quot;&gt;tests&lt;/span&gt;.&lt;span class=&quot;pl-en&quot;&gt;outputs&lt;/span&gt;.&lt;span class=&quot;pl-en&quot;&gt;conditions&lt;/span&gt;]]&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-vector-toml-L42&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;42&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-vector-toml-LC42&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      &lt;span class=&quot;pl-smi&quot;&gt;type&lt;/span&gt; = &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;check_fields&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-vector-toml-L43&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;43&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-vector-toml-LC43&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      &lt;span class=&quot;pl-smi&quot;&gt;&amp;quot;client.equals&amp;quot;&lt;/span&gt; = &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;172.21.0.1&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-vector-toml-L44&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;44&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-vector-toml-LC44&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      &lt;span class=&quot;pl-smi&quot;&gt;&amp;quot;user.equals&amp;quot;&lt;/span&gt; = &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;-&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-vector-toml-L45&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;45&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-vector-toml-LC45&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      &lt;span class=&quot;pl-smi&quot;&gt;&amp;quot;timestamp.equals&amp;quot;&lt;/span&gt;= &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;2020-02-28T12:38:46Z&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-vector-toml-L46&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;46&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-vector-toml-LC46&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      &lt;span class=&quot;pl-smi&quot;&gt;&amp;quot;verb.equals&amp;quot;&lt;/span&gt; = &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;GET&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-vector-toml-L47&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;47&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-vector-toml-LC47&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      &lt;span class=&quot;pl-smi&quot;&gt;&amp;quot;path.equals&amp;quot;&lt;/span&gt; = &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;/path/to/a&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-vector-toml-L48&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;48&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-vector-toml-LC48&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      &lt;span class=&quot;pl-smi&quot;&gt;&amp;quot;status.equals&amp;quot;&lt;/span&gt; = &lt;span class=&quot;pl-c1&quot;&gt;200&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-vector-toml-L49&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;49&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-vector-toml-LC49&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      &lt;span class=&quot;pl-smi&quot;&gt;&amp;quot;bytes.equals&amp;quot;&lt;/span&gt; = &lt;span class=&quot;pl-c1&quot;&gt;46459&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-vector-toml-L50&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;50&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-vector-toml-LC50&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      &lt;span class=&quot;pl-smi&quot;&gt;&amp;quot;referer.equals&amp;quot;&lt;/span&gt; = &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;http://localhost/path/to/b&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-vector-toml-L51&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;51&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-vector-toml-LC51&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      &lt;span class=&quot;pl-smi&quot;&gt;&amp;quot;user_agent.equals&amp;quot;&lt;/span&gt; = &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.122 Safari/537.36&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
&lt;/table&gt;


  &lt;/div&gt;

  &lt;/div&gt;
&lt;/div&gt;

      &lt;/div&gt;
      &lt;div class=&quot;gist-meta&quot;&gt;
        &lt;a href=&quot;https://gist.github.com/d3rwan/13aba18e159c340b2947992bfbb45f81/raw/c994e66bcae65ee522cd1c8db7db04e51a6b8635/vector.toml&quot; style=&quot;float:right&quot;&gt;view raw&lt;/a&gt;
        &lt;a href=&quot;https://gist.github.com/d3rwan/13aba18e159c340b2947992bfbb45f81#file-vector-toml&quot;&gt;vector.toml&lt;/a&gt;
        hosted with &amp;#10084; by &lt;a href=&quot;https://github.com&quot;&gt;GitHub&lt;/a&gt;
      &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;Fun fact, il est possible de &lt;a href=&quot;https://vector.dev/docs/reference/tests/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;tester unitairement la configuration&lt;/a&gt; avec Vector, comme on peut le voir dans la section [[tests]] du fichier&lt;/p&gt;
&lt;p&gt;On pourra également noter que chaque step de configuration se base sur au moins un step précédent. &lt;/p&gt;
&lt;p&gt;Côté webapp, on ajoute un agent Vector configuré comme suit:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Lecture des logs depuis un fichier&lt;/li&gt;
&lt;li&gt;Envoi vers le broker Kafka&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;div id=&quot;gist102398526&quot; class=&quot;gist&quot;&gt;
    &lt;div class=&quot;gist-file&quot;&gt;
      &lt;div class=&quot;gist-data&quot;&gt;
        &lt;div class=&quot;js-gist-file-update-container js-task-list-container file-box&quot;&gt;
  &lt;div id=&quot;file-agent_vector-toml&quot; class=&quot;file&quot;&gt;
    

  &lt;div itemprop=&quot;text&quot; class=&quot;Box-body p-0 blob-wrapper data type-toml &quot;&gt;
      
&lt;table class=&quot;highlight tab-size js-file-line-container&quot; data-tab-size=&quot;8&quot; data-paste-markdown-skip&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-agent_vector-toml-L1&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;1&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-agent_vector-toml-LC1&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;#&lt;/span&gt; Set global options&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-agent_vector-toml-L2&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;2&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-agent_vector-toml-LC2&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-smi&quot;&gt;data_dir&lt;/span&gt; = &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;/var/lib/vector&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-agent_vector-toml-L3&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;3&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-agent_vector-toml-LC3&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-agent_vector-toml-L4&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;4&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-agent_vector-toml-LC4&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;[&lt;span class=&quot;pl-en&quot;&gt;sources&lt;/span&gt;.&lt;span class=&quot;pl-en&quot;&gt;from_file&lt;/span&gt;]&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-agent_vector-toml-L5&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;5&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-agent_vector-toml-LC5&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=&quot;pl-smi&quot;&gt;type&lt;/span&gt; = &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;file&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-agent_vector-toml-L6&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;6&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-agent_vector-toml-LC6&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=&quot;pl-smi&quot;&gt;include&lt;/span&gt; = [&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;/var/log/nginx/*.log&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;]&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-agent_vector-toml-L7&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;7&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-agent_vector-toml-LC7&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-agent_vector-toml-L8&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;8&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-agent_vector-toml-LC8&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;[&lt;span class=&quot;pl-en&quot;&gt;sinks&lt;/span&gt;.&lt;span class=&quot;pl-en&quot;&gt;to_broker&lt;/span&gt;]&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-agent_vector-toml-L9&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;9&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-agent_vector-toml-LC9&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=&quot;pl-smi&quot;&gt;type&lt;/span&gt; = &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;kafka&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-agent_vector-toml-L10&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;10&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-agent_vector-toml-LC10&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=&quot;pl-smi&quot;&gt;inputs&lt;/span&gt; = [&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;from_file&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;]&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-agent_vector-toml-L11&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;11&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-agent_vector-toml-LC11&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=&quot;pl-smi&quot;&gt;bootstrap_servers&lt;/span&gt; = &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;kafka:29092&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-agent_vector-toml-L12&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;12&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-agent_vector-toml-LC12&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=&quot;pl-smi&quot;&gt;topic&lt;/span&gt; = &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;events&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-agent_vector-toml-L13&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;13&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-agent_vector-toml-LC13&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=&quot;pl-smi&quot;&gt;encoding&lt;/span&gt; = &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;json&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
&lt;/table&gt;


  &lt;/div&gt;

  &lt;/div&gt;
&lt;/div&gt;

      &lt;/div&gt;
      &lt;div class=&quot;gist-meta&quot;&gt;
        &lt;a href=&quot;https://gist.github.com/d3rwan/13aba18e159c340b2947992bfbb45f81/raw/c994e66bcae65ee522cd1c8db7db04e51a6b8635/agent_vector.toml&quot; style=&quot;float:right&quot;&gt;view raw&lt;/a&gt;
        &lt;a href=&quot;https://gist.github.com/d3rwan/13aba18e159c340b2947992bfbb45f81#file-agent_vector-toml&quot;&gt;agent_vector.toml&lt;/a&gt;
        hosted with &amp;#10084; by &lt;a href=&quot;https://github.com&quot;&gt;GitHub&lt;/a&gt;
      &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Le projet de test complet est disponible sur github &lt;a href=&quot;https://github.com/d3rwan/discovering_vector&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;discovering_vector&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Il ne me reste qu’à lancer tous mes services&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt; docker-compose build
 docker-compose up&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Puis me rendre sur ma webapp (dans mon cas, &lt;a href=&quot;http://localhost:80&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;http://localhost:80&lt;/a&gt;)
&lt;img src=&quot;/d3rwan-blog/media/elk/joliadmin.png&quot;&gt;&lt;em&gt;Exemple d’application web (source: &lt;a href=&quot;https://github.com/sbilly/joli-admin&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;https://github.com/sbilly/joli-admin&lt;/a&gt;)&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Après une rapide navigation, je peux me rendre sur mon IHM Kibana (dans mon cas, &lt;a href=&quot;http://localhost:5601&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;http://localhost:5601&lt;/a&gt;), puis dans l’onglet &lt;code class=&quot;language-text&quot;&gt;Management&lt;/code&gt; puis &lt;code class=&quot;language-text&quot;&gt;Kibana &amp;gt; Index Patterns&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/d3rwan-blog/media/vector/add_index_kibana.png&quot;&gt;&lt;em&gt;Ajout du pattern d’index vector-*&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Et voilà ! Un index &lt;code class=&quot;language-text&quot;&gt;vector-YYYY.MM.DD&lt;/code&gt; a été crée et contient bien mes logs applicatifs.
A partir de là, je vais pouvoir créer mes indexs, recherches visualisations, dashboards et autre canvas dans Kibana, et pouvoir utiliser ces informations de monitoring.&lt;/p&gt;
&lt;p&gt;Pour conclure, il est effectivement assez facile d’utiliser &lt;a href=&quot;https://vector.dev/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Vector&lt;/a&gt; comme remplacant de logtash/beats dans une stack Elastic, et le fait est que ca fonctionne.
Reste à voir sur la durée si les gains de performance annoncé sont réels, et si le projet arrive durablement à s’imposer dans la communauté.
En attendant, même très jeune, ce projet est plein de promesses et de bonnes idées (tests unitaires, multi-topologies natives, …), et mérite donc qu’on y jette un oeil!&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Hello, new world - De Medium à Dev.to]]></title><description><![CDATA[Confinement, semaine 4. Et si je refaisais des articles de blog? Et pourquoi pas en profiter pour quitter Medium?]]></description><link>https://d3rwan.github.io/d3rwan-blog/posts/hello-new-world</link><guid isPermaLink="false">https://d3rwan.github.io/d3rwan-blog/posts/hello-new-world</guid><pubDate>Fri, 10 Apr 2020 12:00:00 GMT</pubDate><content:encoded>&lt;h2 id=&quot;préambule&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#pr%C3%A9ambule&quot; aria-label=&quot;préambule permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Préambule&lt;/h2&gt;
&lt;p&gt;Quel jour on est déjà ? Ah, #ConfinementJour25 selon Twitter.
Depuis quelques jours j’ai ressenti l’envie de refaire des articles de blog. &lt;/p&gt;
&lt;p&gt;Lors de mes derniers articles, j’avais choisi d’utiliser la plateforme &lt;a href=&quot;https://medium.com&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Medium&lt;/a&gt;, qui permettait à l’époque facilement de publier du contenu au travers d’une IHM minimaliste, tout en offrant une belle visibilité.
Depuis, la plateforme a évoluée, et est devenue assez désagréable à utiliser &lt;em&gt;en tant que lecteur&lt;/em&gt;. Affichage permanent du paywall, obligation de se connecter, &lt;em&gt;exode&lt;/em&gt; d’une partie de la communauté tech…   &lt;/p&gt;
&lt;p&gt;L’alternative du moment, c’est &lt;a href=&quot;https://dev.to&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;dev.to&lt;/a&gt;, et ca a l’avantage (ou l’inconvénient) d’être orientée tech, là ou &lt;a href=&quot;https://medium.com&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;medium&lt;/a&gt; se voulait plus généraliste. &lt;/p&gt;
&lt;blockquote class=&quot;twitter-tweet&quot;&gt;&lt;p lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;DEV is now open source &lt;a href=&quot;https://t.co/05nuBnkbKI&quot;&gt;https://t.co/05nuBnkbKI&lt;/a&gt;&lt;/p&gt;&amp;mdash; DEV Community 👩‍💻👨‍💻 (@ThePracticalDev) &lt;a href=&quot;https://twitter.com/ThePracticalDev/status/1027239140826460170?ref_src=twsrc%5Etfw&quot;&gt;August 8, 2018&lt;/a&gt;&lt;/blockquote&gt; 
&lt;script async src=&quot;https://platform.twitter.com/widgets.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;
&lt;p&gt;Néanmoins, on peut se poser la question : est-ce que ce ne serait pas qu’un nouveau &lt;a href=&quot;https://medium.com&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;medium&lt;/a&gt;, qui suivra le même chemin?
Sans-doute diront certains, néanmoins &lt;a href=&quot;https://dev.to&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;dev.to&lt;/a&gt; propose nativement une fonctionnalité de cross-posting qui permet de publier sur leur site un article que vous auriez publié ailleurs.
On pourrait donc avoir les avantages d’une plateforme en vogue (visibilité, communauté), tout en gardant la propriété de ses données ?
C’est même un concept : &lt;a href=&quot;https://indieweb.org/POSSE&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;POSSE - Publish on your Own Site, Syndicate ElseWhere&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;de-medium-à-un-blog-maison&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#de-medium-%C3%A0-un-blog-maison&quot; aria-label=&quot;de medium à un blog maison permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;De medium à un blog maison&lt;/h2&gt;
&lt;p&gt;J’ai décidé de partir sur &lt;a href=&quot;https://www.gatsbyjs.org/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Gatsby&lt;/a&gt;, un générateur de site statique basé sur ReactJS et GraphQL.
Gatsby se base d’une part sur des composants React affichant la structure du blog, et permet d’autre part de parser des fichers markdown qui correspondent aux articles de blog.&lt;/p&gt;
&lt;p&gt;Par ailleurs, la fonctionnalité Github Pages permet d’exposer un site statique.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Récupérer mes anciens articles sur &lt;a href=&quot;https://medium.com&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;medium&lt;/a&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Pour cela, j’ai utilisé le projet &lt;a href=&quot;https://www.npmjs.com/package/mediumexporter&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;mediumexporter&lt;/a&gt; qui permet automatique de parser un article en markdown depuis son url publique.&lt;br&gt;
Il a fallu néanmoins une seconde passe de nettoyage du markdown généré, notamment pour remplacer les medias importés dans &lt;a href=&quot;https://medium.com&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;medium&lt;/a&gt; (image, tweets ou gist).&lt;/p&gt;
&lt;ol start=&quot;2&quot;&gt;
&lt;li&gt;Bootstraper un blog avec Gatsby&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Rien de plus simple, il existe un tas de boilerplate sur Github, parmis lesquels celui de Dan Abramov &lt;a href=&quot;https://github.com/gaearon/overreacted.io&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;overreacted.io&lt;/a&gt;, le créateur de Redux.&lt;/p&gt;
&lt;p&gt;Le plus simple est cependant de se baser sur le starter officiel &lt;a href=&quot;https://github.com/gatsbyjs/gatsby-starter-blog&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;gatsby-starter-blog&lt;/a&gt; qui explique le mode opératoire pas à pas. &lt;/p&gt;
&lt;ol start=&quot;3&quot;&gt;
&lt;li&gt;Publier sur Github Pages&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Là encore, la &lt;a href=&quot;https://www.gatsbyjs.org/docs/how-gatsby-works-with-github-pages/#deploying-to-a-path-on-github-pages&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;documentation officielle&lt;/a&gt; est bien faite et explique le fonctionnement pas à pas.&lt;/p&gt;
&lt;p&gt;En 2 mots, dans mon cas, depuis mon repository Github, en allant dans le menu &lt;code class=&quot;language-text&quot;&gt;Settings&lt;/code&gt;, dans la section &lt;code class=&quot;language-text&quot;&gt;GitHub Pages&lt;/code&gt;, je choisi la branche dans laquelle est versionnée la version générée du blog&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/d3rwan-blog/media/hello-new-world/gh-pages.png&quot;&gt;&lt;em&gt;Configuration de Github Pages&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;A noter que la branche &lt;code class=&quot;language-text&quot;&gt;gh-pages&lt;/code&gt; est la branche par défaut lors de l’utilisation du plugin &lt;a href=&quot;https://www.npmjs.com/package/gh-pages&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;gh-pages&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;dun-blog-maison-à-devto&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#dun-blog-maison-%C3%A0-devto&quot; aria-label=&quot;dun blog maison à devto permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;D’un blog maison à Dev.to&lt;/h2&gt;
&lt;p&gt;Là encore, rien de très compliqué.&lt;br&gt;
Une fois son compte crée, il suffit de configurer son alimentation par un flux RSS. &lt;/p&gt;
&lt;p&gt;Pour cela, se rendre dans le menu &lt;code class=&quot;language-text&quot;&gt;Settings &amp;gt; Publishing from RSS&lt;/code&gt;, puis y renseigner l’url du flux RSS généré par son blog personnel (par défaut, un blog Gatsby aura généré un fichier &lt;code class=&quot;language-text&quot;&gt;rss.xml&lt;/code&gt; à la racine)&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/d3rwan-blog/media/hello-new-world/rss-dev.png&quot;&gt;&lt;em&gt;Configuration de l’alimentation par flux RSS&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;A partir de là, tous les articles de votre blog vont être importés dans &lt;a href=&quot;https://dev.to&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;dev.to&lt;/a&gt;, et seront visible depuis le menu &lt;code class=&quot;language-text&quot;&gt;dashboard&lt;/code&gt;.
Par défaut, les articles sont importés en mode &lt;code class=&quot;language-text&quot;&gt;draft&lt;/code&gt;, ce qui vous laissera le soin de valider la bonne importation, et éventuellement corriger les éventuelles différences.
Par exemple, dans le cas d’import d’un tweet ou d’un gist, il existe &lt;a href=&quot;https://dev.to/p/editor_guide&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;une syntaxe particulière&lt;/a&gt; qu’il faudra adapter pour un rendu optimal.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/d3rwan-blog/media/hello-new-world/frontmatter.png&quot;&gt;&lt;em&gt;Edition d’un post depuis &lt;a href=&quot;https://dev.to&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;dev.to&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Dernier point important, verifier que le champ &lt;code class=&quot;language-text&quot;&gt;canonical_url&lt;/code&gt; dans la configuration de votre post se réfère bien au post original sur votre blog. &lt;/p&gt;
&lt;p&gt;Et voila, en quelques heures, j’ai pu récupérer le contenu des mes anciens posts, créer et déployer un blog personnel pour les publier, et les syndiquer sur &lt;a href=&quot;https://dev.to&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;dev.to&lt;/a&gt;. &lt;/p&gt;
&lt;p&gt;Hello, new world. &lt;/p&gt;</content:encoded></item><item><title><![CDATA[Retour sur Devoxx France 2018 - Les conférences les plus…]]></title><description><![CDATA[La 7ème édition de Devoxx France (aka la conférence des développeurs passionnnés) s’est déroulée du 18 au 20 avril dernier. Voici mon retour sur les conférences les + …]]></description><link>https://d3rwan.github.io/d3rwan-blog/posts/devoxx-2018</link><guid isPermaLink="false">https://d3rwan.github.io/d3rwan-blog/posts/devoxx-2018</guid><pubDate>Wed, 02 May 2018 12:00:00 GMT</pubDate><content:encoded>&lt;p&gt;La 7ème édition de Devoxx France (aka la conférence des développeurs passionnnés) s’est déroulée du 18 au 20 avril dernier. Voici mon retour sur les conférences les + …&lt;/p&gt;
&lt;h2 id=&quot;la-plus-gourmande-&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#la-plus-gourmande-&quot; aria-label=&quot;la plus gourmande  permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href=&quot;https://cfp.devoxx.fr/2018/talk/NMW-2592/%23RetourAuxSources_:_%F0%9F%8D%AA_Les_cookies_HTTP&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;La plus gourmande 🍪&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://twitter.com/hsablonniere&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Hubert Sablonnière&lt;/a&gt; nous présente le résultat de son enquête sur un des plus grands mystères du web actuel : les &lt;em&gt;cookies&lt;/em&gt; HTTP. Création de Lou Montulli, également créateur du navigateur en ligne de commande Lynx ou initiateur de la balise &lt;blink/&gt; et des gifs animés, le cookie est un protocole serveur/navigateur pour stocker un état côté client. Dans son talk, le speaker nous explique les pièges à éviter, et les bonnes pratiques à avoir pour sécuriser au maximum son application. Un *back to basics *à voir absolument quand on est pas à l’aise avec ces petites choses, élément fondateur du web actuel.&lt;/p&gt;
&lt;script async src=&quot;https://platform.twitter.com/widgets.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;
&lt;blockquote class=&quot;twitter-tweet&quot;&gt;&lt;p lang=&quot;fr&quot; dir=&quot;ltr&quot;&gt;On mange des 🍪 avec &lt;a href=&quot;https://twitter.com/hsablonniere?ref_src=twsrc%5Etfw&quot;&gt;@hsablonniere&lt;/a&gt; à &lt;a href=&quot;https://twitter.com/hashtag/devoxxfr?src=hash&amp;amp;ref_src=twsrc%5Etfw&quot;&gt;#devoxxfr&lt;/a&gt; &lt;a href=&quot;https://t.co/gbgihJaLES&quot;&gt;pic.twitter.com/gbgihJaLES&lt;/a&gt;&lt;/p&gt;&amp;mdash; Arnaud Héritier #AtHome (@aheritier) &lt;a href=&quot;https://twitter.com/aheritier/status/986916041363206145?ref_src=twsrc%5Etfw&quot;&gt;April 19, 2018&lt;/a&gt;&lt;/blockquote&gt;
&lt;h2 id=&quot;la-plus-visuelle-&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#la-plus-visuelle-&quot; aria-label=&quot;la plus visuelle  permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href=&quot;https://cfp.devoxx.fr/2018/talk/LHA-6515/Let%E2%80%99s_Sketchnote_:_prise_de_notes_visuelle&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;La plus visuelle 🎨&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Dans leur quickie Let’s sketchnote, &lt;a href=&quot;https://twitter.com/ane_naiz&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Ane Diaz&lt;/a&gt; &amp;#x26; &lt;a href=&quot;https://twitter.com/AmelieBenoit33&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Amélie Benoit&lt;/a&gt; nous présente les bases de la prise de note visuelle. A priori accessible à tout ceux qui ont passé le CP, le &lt;em&gt;sketchnote&lt;/em&gt; consiste à utiliser des éléments de base tels que du texte ou des pictos, de les enrichir de flèches et de contenants, et d’agrémenter de couleur pour obtenir des compte-rendus uniques et créatifs. Et en plus ca favorise la concentration et la mémoire. On demande à voir nos oeuvres sans le talent des demoiselles, mais on ressort de là en ayant envie d’essayer. Un mini coup de coeur.&lt;/p&gt;
&lt;blockquote class=&quot;twitter-tweet&quot;&gt;&lt;p lang=&quot;fr&quot; dir=&quot;ltr&quot;&gt;Hi Sherlock ! &lt;a href=&quot;https://twitter.com/hashtag/Sketchnote?src=hash&amp;amp;ref_src=twsrc%5Etfw&quot;&gt;#Sketchnote&lt;/a&gt; sur la conférence à propos des cookies HTTP de &lt;a href=&quot;https://twitter.com/hsablonniere?ref_src=twsrc%5Etfw&quot;&gt;@hsablonniere&lt;/a&gt; à &lt;a href=&quot;https://twitter.com/hashtag/DevoxxFR?src=hash&amp;amp;ref_src=twsrc%5Etfw&quot;&gt;#DevoxxFR&lt;/a&gt; 🍪&lt;br&gt;&lt;br&gt;Reprise des bases, questions autour de la sécurité, le tout très clair et ludique ! &lt;a href=&quot;https://t.co/nGbAdIPbhZ&quot;&gt;pic.twitter.com/nGbAdIPbhZ&lt;/a&gt;&lt;/p&gt;&amp;mdash; Amélie Benoit (@AmelieBenoit33) &lt;a href=&quot;https://twitter.com/AmelieBenoit33/status/987330857051545600?ref_src=twsrc%5Etfw&quot;&gt;April 20, 2018&lt;/a&gt;&lt;/blockquote&gt;
&lt;h2 id=&quot;la-plus-digitale-&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#la-plus-digitale-&quot; aria-label=&quot;la plus digitale  permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;La plus digitale 👋&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://twitter.com/EmmanuelPESENTI&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Emmanuel Pesenti&lt;/a&gt; vient nous expliquer comment le programme #FrenchRoad doit permettre à la France de rattraper son immense retard numérique, avec notamment son projet de &lt;em&gt;carte à tout faire, *et de faire en sorte que la France devienne une *nation digitale européenne. *Cette keynote n’est finalement qu’une variante française (et digitale) de celle d’&lt;a href=&quot;https://twitter.com/arnocast&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Arnaud Castanier&lt;/a&gt; la veille où ce dernier nous a expliqué comment l’Estonie, avec son programme e-resident est devenue une nation à la pointe du numérique, avec 32000 e-residents de 150 nations différentes, ainsi que 5000 entreprises, et même une e-ambassade. La nation digitale hexagonale a donc beaucoup de travail devant elle. *On se sort les doigts ?&lt;/em&gt;&lt;/p&gt;
&lt;blockquote class=&quot;twitter-tweet&quot;&gt;&lt;p lang=&quot;fr&quot; dir=&quot;ltr&quot;&gt;On me dit dans l&amp;#39;oreillette que c&amp;#39;est plus de 10 fois en 31 min. &lt;a href=&quot;https://twitter.com/DevoxxFR?ref_src=twsrc%5Etfw&quot;&gt;@DevoxxFR&lt;/a&gt;, faites quelque chose ! Remplacez le mot par un bip, plaquez les orateurs au sol, peu importe. Juste faites quelque chose ! &lt;a href=&quot;https://twitter.com/hashtag/DevoxxFR?src=hash&amp;amp;ref_src=twsrc%5Etfw&quot;&gt;#DevoxxFR&lt;/a&gt; &lt;a href=&quot;https://t.co/DCIbQgTktA&quot;&gt;https://t.co/DCIbQgTktA&lt;/a&gt;&lt;/p&gt;&amp;mdash; Numérique, bordel ! (@NumeriqueBordel) &lt;a href=&quot;https://twitter.com/NumeriqueBordel/status/987233102425665541?ref_src=twsrc%5Etfw&quot;&gt;April 20, 2018&lt;/a&gt;&lt;/blockquote&gt;
&lt;h2 id=&quot;la-plus-ironique-&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#la-plus-ironique-&quot; aria-label=&quot;la plus ironique  permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href=&quot;https://cfp.devoxx.fr/2018/talk/KTY-9125/Architecture_Realtime_Data_de_Dailymotion&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;La plus ironique 🤔&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Suite au rachat de Vivendi, Dailymotion a dû se réinventer. Un des axes de travail des équipes fût d’améliorer la partie recommandations, pour passer sur du temps réel. Dans ce talk, &lt;a href=&quot;https://twitter.com/philgiro?lang=fr&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Philippe Girolami&lt;/a&gt; &amp;#x26; &lt;a href=&quot;https://twitter.com/didiergirard&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Didier Girard&lt;/a&gt; nous présente comment, face à un timing court et des équipes en reconstruction, Dailymotion a choisi de passer d’une stack OSS en interne à la stack data cloud de Google, et les gains apportés par celle-ci. Quand bien même Google est également, avec Youtube, leur principe concurrent.&lt;/p&gt;
&lt;blockquote class=&quot;twitter-tweet&quot;&gt;&lt;p lang=&quot;fr&quot; dir=&quot;ltr&quot;&gt;« Architecture realtime data de Dailymotion » &lt;a href=&quot;https://twitter.com/hashtag/DevoxxFR?src=hash&amp;amp;ref_src=twsrc%5Etfw&quot;&gt;#DevoxxFR&lt;/a&gt; &lt;br&gt;Ou l’on apprend que Dailymotion utilise les technologies de son principal concurrent Google pour faire marcher son infra... Ironique ? &lt;a href=&quot;https://t.co/4a7qKi7vUn&quot;&gt;pic.twitter.com/4a7qKi7vUn&lt;/a&gt;&lt;/p&gt;&amp;mdash; Erwan Deruelle (@d3rwan) &lt;a href=&quot;https://twitter.com/d3rwan/status/987337236093030400?ref_src=twsrc%5Etfw&quot;&gt;April 20, 2018&lt;/a&gt;&lt;/blockquote&gt;
&lt;h2 id=&quot;la-plus-sécuritaire-&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#la-plus-s%C3%A9curitaire-&quot; aria-label=&quot;la plus sécuritaire  permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href=&quot;https://cfp.devoxx.fr/2018/talk/THX-0000/Balade_au_pays_de_%C2%ABLet&amp;#x27;s_Encrypt%C2%BB&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;La plus sécuritaire 🔐&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Dans son talk, &lt;a href=&quot;https://twitter.com/fcabestre&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Frédéric Cabestre&lt;/a&gt; repart des bases des clés publiques/privées et nous emmène sur les chemins des certificats et autres joyeusetés, pour enfin que nous puissions comprendre comment Let’s Encrypt a changé la donne dans le milieu des autorités de certifications. Des rappels utiles si vous avez déjà mis le nez dedans, à voir absolument pour les autres !&lt;/p&gt;
&lt;blockquote class=&quot;twitter-tweet&quot;&gt;&lt;p lang=&quot;fr&quot; dir=&quot;ltr&quot;&gt;Merci &lt;a href=&quot;https://twitter.com/fcabestre?ref_src=twsrc%5Etfw&quot;&gt;@fcabestre&lt;/a&gt; d&amp;#39;avoir éclairé ma lanterne sur l&amp;#39;automatisation des certificats &amp;#39;let&amp;#39;s encrypt&amp;#39; à &lt;a href=&quot;https://twitter.com/hashtag/devoxxfr2018?src=hash&amp;amp;ref_src=twsrc%5Etfw&quot;&gt;#devoxxfr2018&lt;/a&gt; &lt;a href=&quot;https://t.co/XWUkcOL0M7&quot;&gt;pic.twitter.com/XWUkcOL0M7&lt;/a&gt;&lt;/p&gt;&amp;mdash; Guillaume Membré (@GuillaumeMembre) &lt;a href=&quot;https://twitter.com/GuillaumeMembre/status/986962564126052358?ref_src=twsrc%5Etfw&quot;&gt;April 19, 2018&lt;/a&gt;&lt;/blockquote&gt;
&lt;h2 id=&quot;la-plus-legacy-mais-dans-des-conteneurs-&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#la-plus-legacy-mais-dans-des-conteneurs-&quot; aria-label=&quot;la plus legacy mais dans des conteneurs  permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;La plus legacy (mais dans des conteneurs) 🚢&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://twitter.com/dgageot&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;David Gageot&lt;/a&gt; vient nous montrer comment faire tourner une application monolithique dans Docker, puis dans Kubernetes, en quelques lignes de Yaml. Dans un second temps, il va utiliser la puissance du pattern &lt;em&gt;Facade&lt;/em&gt; pour faciliter le décommissionnement ; notamment, comment l’utilisation du service mesh Istio peut nous faire gagner rapidement plein de fonctionnalités ultra puissante (monitoring, HTTPS everywhere, rate-limiting, déploiement blue/green, circuit-breaker) entre ses différents services exposés dans Kubernetes. Une présentation rudement menée qui donne envie de s’y mettre (quand bien même on ne fait pas de legacy) !&lt;/p&gt;
&lt;blockquote class=&quot;twitter-tweet&quot;&gt;&lt;p lang=&quot;fr&quot; dir=&quot;ltr&quot;&gt;Retour à la tech : transformer une appli legacy avec &lt;a href=&quot;https://twitter.com/hashtag/Kubernetes?src=hash&amp;amp;ref_src=twsrc%5Etfw&quot;&gt;#Kubernetes&lt;/a&gt; et &lt;a href=&quot;https://twitter.com/hashtag/Istio?src=hash&amp;amp;ref_src=twsrc%5Etfw&quot;&gt;#Istio&lt;/a&gt; avec &lt;a href=&quot;https://twitter.com/dgageot?ref_src=twsrc%5Etfw&quot;&gt;@dgageot&lt;/a&gt; &lt;a href=&quot;https://twitter.com/hashtag/DevoxxFr?src=hash&amp;amp;ref_src=twsrc%5Etfw&quot;&gt;#DevoxxFr&lt;/a&gt; &lt;a href=&quot;https://t.co/1KRJdQEEpi&quot;&gt;pic.twitter.com/1KRJdQEEpi&lt;/a&gt;&lt;/p&gt;&amp;mdash; CANAL+ TECH 📺📱🎬 (@CANALTechTeam) &lt;a href=&quot;https://twitter.com/CANALTechTeam/status/986920712467251202?ref_src=twsrc%5Etfw&quot;&gt;April 19, 2018&lt;/a&gt;&lt;/blockquote&gt;
&lt;h2 id=&quot;la-plus-mutualiste-&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#la-plus-mutualiste-&quot; aria-label=&quot;la plus mutualiste  permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href=&quot;https://cfp.devoxx.fr/2018/talk/YTS-2643/Du_mutualisme_a_l&amp;#x27;Open_Source&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;La plus mutualiste ⛩&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://twitter.com/chanksleroux?lang=fr&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Alexandre Delègue&lt;/a&gt;, &lt;a href=&quot;https://twitter.com/trevorreznik?lang=fr&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Matthieu Ancelin&lt;/a&gt; et &lt;a href=&quot;https://twitter.com/desmfr?lang=fr&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Francois Desmie&lt;/a&gt;r nous racontent comment la MAIF a décidé de reconstruire son S.I de 0, et nous présenter les résultats de ce travail. Avec à la clé déjà 2 produits prometteurs open-sourcés, &lt;a href=&quot;https://maif.github.io/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Otoroshi &amp;#x26; Izanami&lt;/a&gt;, une méthodologie et des principes forts symbolisés par des cartes à jouer, et encore plein de choses à faire. Un exemple à suivre ?&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://medium.com/oss-by-maif/open-source-%C3%A0-la-maif-gen%C3%A8se-et-ambition-6e7b2bc3d93d&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Open Source à la MAIF : genèse et ambition&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;la-plus-barbue-&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#la-plus-barbue-&quot; aria-label=&quot;la plus barbue  permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href=&quot;https://cfp.devoxx.fr/2018/talk/WIW-5296/_Monitorer_l&amp;#x27;inconnu,_1000_*_100_series_par_jour&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;La plus barbue 🎅🏻&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://twitter.com/waxzce&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Quentin Adam&lt;/a&gt; &amp;#x26; &lt;a href=&quot;https://twitter.com/clementd&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Clément Delafargue&lt;/a&gt;, C[E|T]O chez CleverCloud viennent nous parler de leurs expérimentations pour la mise en place de métriques sur leur plateforme. Les principales difficultés résultent de la méconnaissance des applications à superviser, et le volume potentiel de données à stocker, ils ont buttés sur la plupart des solutions du marché (InfluxDB, Prometheus) avant de découvrir Warp10. De leurs expérimentations sont ressorties la solution metrics en cours de déploiement chez Clever, ainsi que des projets open-source en collaboration avec OVH (poke.digital notamment). Et un utile rappel que, malgré la hype &lt;em&gt;#serverless&lt;/em&gt;, nous vivons toujours dans un monde plein de serveurs !&lt;/p&gt;
&lt;blockquote class=&quot;twitter-tweet&quot;&gt;&lt;p lang=&quot;fr&quot; dir=&quot;ltr&quot;&gt;Pour finir en beauté, &lt;a href=&quot;https://twitter.com/waxzce?ref_src=twsrc%5Etfw&quot;&gt;@waxzce&lt;/a&gt; et &lt;a href=&quot;https://twitter.com/clementd?ref_src=twsrc%5Etfw&quot;&gt;@clementd&lt;/a&gt; viennent nous expliquer comment monitorer l’inconnu. &lt;a href=&quot;https://twitter.com/hashtag/devoxxFR?src=hash&amp;amp;ref_src=twsrc%5Etfw&quot;&gt;#devoxxFR&lt;/a&gt; &lt;a href=&quot;https://t.co/pWXTKPUWfY&quot;&gt;pic.twitter.com/pWXTKPUWfY&lt;/a&gt;&lt;/p&gt;&amp;mdash; Erwan Deruelle (@d3rwan) &lt;a href=&quot;https://twitter.com/d3rwan/status/987352499500744704?ref_src=twsrc%5Etfw&quot;&gt;April 20, 2018&lt;/a&gt;&lt;/blockquote&gt;
&lt;h2 id=&quot;la-plus-personnelle-&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#la-plus-personnelle-&quot; aria-label=&quot;la plus personnelle  permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href=&quot;http://cfp.devoxx.fr/2018/talk/FON-7243/Pourquoi_vous_devriez_arreter_d&amp;#x27;utiliser_les_field_injection&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;La plus personnelle 😊&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;J’ai eu le plaisir et l’honneur cette année encore d’être speaker à Devoxx France. Et j’en profite ici pour remercier les gens qui sont *derrière la scène *pour l’énorme travail qu’ils réalisent chaque année. Tout en espérant avoir convaincu mes spectateurs d’arrêter d’utiliser les injections par champ!&lt;/p&gt;
&lt;blockquote class=&quot;twitter-tweet&quot;&gt;&lt;p lang=&quot;fr&quot; dir=&quot;ltr&quot;&gt;Les slides de ma présentation &amp;quot;Pourquoi vous devriez arrêter les field injection&amp;quot; à &lt;a href=&quot;https://twitter.com/DevoxxFR?ref_src=twsrc%5Etfw&quot;&gt;@DevoxxFR&lt;/a&gt; sont disponible ici : &lt;a href=&quot;https://t.co/kTUmrrtZ1h&quot;&gt;https://t.co/kTUmrrtZ1h&lt;/a&gt;&lt;br&gt; &lt;a href=&quot;https://twitter.com/hashtag/StopFieldInjection?src=hash&amp;amp;ref_src=twsrc%5Etfw&quot;&gt;#StopFieldInjection&lt;/a&gt; &lt;a href=&quot;https://twitter.com/hashtag/DevoxxFR?src=hash&amp;amp;ref_src=twsrc%5Etfw&quot;&gt;#DevoxxFR&lt;/a&gt;&lt;/p&gt;&amp;mdash; Erwan Deruelle (@d3rwan) &lt;a href=&quot;https://twitter.com/d3rwan/status/987308718193827841?ref_src=twsrc%5Etfw&quot;&gt;April 20, 2018&lt;/a&gt;&lt;/blockquote&gt;
&lt;p&gt;Evidemment, ce retour ne peut être que partiel étant donné le nombre de talk auquel je n’ai pas assisté (sachant qu’on parle de 200 conférences sur 3 jours!), mais n’oubliez pas que l’ensemble des talks de cette année sont dès à présent &lt;a href=&quot;https://www.youtube.com/playlist?list=PLTbQvx84FrARa9pUtZYK7t_UfyGMCPOBn&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;disponible en ligne&lt;/a&gt;.
Et à l’année prochaine! 😉&lt;/p&gt;
&lt;blockquote class=&quot;twitter-tweet&quot;&gt;&lt;p lang=&quot;fr&quot; dir=&quot;ltr&quot;&gt;Save the date. &lt;a href=&quot;https://twitter.com/hashtag/devoxxfr?src=hash&amp;amp;ref_src=twsrc%5Etfw&quot;&gt;#devoxxfr&lt;/a&gt; 2019 aura lieu les 17, 18 et 19 avril 2019&lt;/p&gt;&amp;mdash; DevoxxFR (@DevoxxFR) &lt;a href=&quot;https://twitter.com/DevoxxFR/status/987220513952010241?ref_src=twsrc%5Etfw&quot;&gt;April 20, 2018&lt;/a&gt;&lt;/blockquote&gt;</content:encoded></item><item><title><![CDATA[Régnez sur vos APIs avec Kong]]></title><description><![CDATA[Mise en place d’une solution d’API Management dans votre infrastructure]]></description><link>https://d3rwan.github.io/d3rwan-blog/posts/kong</link><guid isPermaLink="false">https://d3rwan.github.io/d3rwan-blog/posts/kong</guid><pubDate>Sat, 11 Feb 2017 12:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;https://www.mashape.com/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Mashape&lt;/a&gt; est un catalogue public d’API, permettant à ses utilisateurs de partager ses APIs ou d’utiliser celle des autres. Afin de sécuriser et gérer ces quelques 15000 micro-services présents dans leur catalogue, Mashape a crée &lt;a href=&quot;https://getkong.org/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Kong&lt;/a&gt;, une solution d’API management.&lt;/p&gt;
&lt;p&gt;Kong est une solution open-source basée sur NGinx, qui permet de répondre aux contraintes des milliards de requêtes par mois que doit gérer Mashape.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/d3rwan-blog/media/kong/modules.png&quot;&gt;&lt;/p&gt;
&lt;p&gt;Kong s’appuie également sur une base de données Cassandra (possibilité d’utiliser PostgreSQL), ainsi que sur un ensemble de plug-ins. Par défaut, la solution offre déjà un socle de modules permettant l’authentification, la sécurité, le rate-limiting ou encore la supervision. Il vous sera également possible si besoin de créer vos propres plug-in (cf. &lt;a href=&quot;https://getkong.org/plugins/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;la documentation officielle&lt;/a&gt;) &lt;/p&gt;
&lt;p&gt;Dans votre infrastructure, l’API manager se place en amont des services à exposer (approche reverse-proxy), et prendra en charge les fonctionnalités que vous lui déléguez. Dès lors, chacun de vos services métiers n’aura plus à gérer ces taches techniques et pourra se concentrer sur son coeur métier.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/d3rwan-blog/media/kong/archi-wo-kong.png&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/d3rwan-blog/media/kong/archi-w-kong.png&quot; alt=&quot;Architecture Legacy vs. Architecture orientée API&quot;&gt;&lt;em&gt;Architecture Legacy vs. Architecture orientée API&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Alors, que vous deviez gérer un ensemble de micro-services, une API qui commence à devenir populaire ou simplement un backend web/mobile, il est peut-être temps de commencer à gérer vos APIs.&lt;/p&gt;
&lt;h2 id=&quot;getting-started&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#getting-started&quot; aria-label=&quot;getting started permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Getting started&lt;/h2&gt;
&lt;p&gt;Dans cette partie, nous utiliserons comme API partenaire celle exposée par le site &lt;a href=&quot;http://anapioficeandfire.com/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;http://anapioficeandfire.com/&lt;/a&gt; et qui expose les données relatives à l’univers de Game of Thrones.&lt;/p&gt;
&lt;p&gt;Pour déployer Kong, nous utiliserons des conteneurs Docker &lt;em&gt;orchestrés&lt;/em&gt; par docker-compose. La configuration de la stack est la suivante :&lt;/p&gt;
&lt;p&gt;&lt;div id=&quot;gist44731088&quot; class=&quot;gist&quot;&gt;
    &lt;div class=&quot;gist-file&quot;&gt;
      &lt;div class=&quot;gist-data&quot;&gt;
        &lt;div class=&quot;js-gist-file-update-container js-task-list-container file-box&quot;&gt;
  &lt;div id=&quot;file-docker-compose-yml&quot; class=&quot;file&quot;&gt;
    

  &lt;div itemprop=&quot;text&quot; class=&quot;Box-body p-0 blob-wrapper data type-yaml &quot;&gt;
      
&lt;table class=&quot;highlight tab-size js-file-line-container&quot; data-tab-size=&quot;8&quot; data-paste-markdown-skip&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L1&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;1&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC1&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-ent&quot;&gt;version&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;2&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L2&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;2&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC2&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L3&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;3&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC3&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-ent&quot;&gt;services&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L4&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;4&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC4&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=&quot;pl-ent&quot;&gt;cassandra&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L5&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;5&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC5&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;image&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;cassandra:2.2.8&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L6&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;6&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC6&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;container_name&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;cassandra&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L7&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;7&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC7&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;ports&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L8&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;8&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC8&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      - &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;9042:9042&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L9&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;9&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC9&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=&quot;pl-ent&quot;&gt;kong&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L10&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;10&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC10&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;image&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;kong&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L11&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;11&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC11&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;container_name&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;kong&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L12&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;12&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC12&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;ports&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L13&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;13&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC13&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      - &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;8000:8000&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L14&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;14&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC14&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      - &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;8443:8443&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L15&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;15&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC15&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      - &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;8001:8001&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L16&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;16&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC16&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      - &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;7946:7946&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L17&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;17&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC17&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      - &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;7946:7946/udp&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L18&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;18&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC18&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;links&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L19&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;19&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC19&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      - &lt;span class=&quot;pl-s&quot;&gt;cassandra:cassandra&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L20&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;20&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC20&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;environment&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L21&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;21&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC21&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      - &lt;span class=&quot;pl-s&quot;&gt;KONG_DATABASE=cassandra&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L22&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;22&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC22&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      - &lt;span class=&quot;pl-s&quot;&gt;KONG_CASSANDRA_CONTACT_POINTS=cassandra&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L23&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;23&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC23&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;depends_on&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L24&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;24&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC24&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      - &lt;span class=&quot;pl-s&quot;&gt;cassandra&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L25&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;25&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC25&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;restart&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;always&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L26&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;26&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC26&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;command&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;[&amp;quot;/bin/bash&amp;quot;, &amp;quot;-c&amp;quot;, &amp;quot; while ! nc cassandra 9042; do sleep 5; done &amp;amp;&amp;amp; kong start&amp;quot;]&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L27&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;27&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC27&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=&quot;pl-ent&quot;&gt;ui&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L28&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;28&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC28&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;image&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;pgbi/kong-dashboard&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L29&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;29&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC29&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;container_name&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;ui&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L30&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;30&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC30&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;ports&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L31&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;31&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC31&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      - &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;8080:8080&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L32&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;32&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC32&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;links&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L33&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;33&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC33&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      - &lt;span class=&quot;pl-s&quot;&gt;kong:kong&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L34&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;34&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC34&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;depends_on&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L35&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;35&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC35&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      - &lt;span class=&quot;pl-s&quot;&gt;kong&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
&lt;/table&gt;


  &lt;/div&gt;

  &lt;/div&gt;
&lt;/div&gt;

      &lt;/div&gt;
      &lt;div class=&quot;gist-meta&quot;&gt;
        &lt;a href=&quot;https://gist.github.com/d3rwan/011f9875f4cc3a11fd83860e0a9486f9/raw/2259ca238269289b7398acd51e714ec0eab450cc/docker-compose.yml&quot; style=&quot;float:right&quot;&gt;view raw&lt;/a&gt;
        &lt;a href=&quot;https://gist.github.com/d3rwan/011f9875f4cc3a11fd83860e0a9486f9#file-docker-compose-yml&quot;&gt;docker-compose.yml&lt;/a&gt;
        hosted with &amp;#10084; by &lt;a href=&quot;https://github.com&quot;&gt;GitHub&lt;/a&gt;
      &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Démarrer la stack&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Depuis le répertoire contenant le fichier docker-compose.yml décrit précédemment&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;    # run (daemon)
    docker-compose up -d
    # show logs
    docker-compose logs -f&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Une fois la stack démarrée, nous pouvons accéder à ses différents composants&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;localhost si vous utilisez Docker sous Mac ou Linux, l’adresse de docker-machine sinon&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;API Manager - localhost**:8001&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;API grâce à laquelle nous allons administrer Kong&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;API Gateway - localhost**:8000&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;API grâce à laquelle nous accéderons à nos API&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Kong Dashboard - localhost&lt;strong&gt;:8080&lt;/strong&gt; &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;IHM open-source qui utilise l’API d’administration afin d’offrir une interface d’administration&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;A présent, nous allons pouvoir utiliser notre API manager.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Dans la suite de l’article, nous directement l’API via des appels REST, mais nous pourrions également utiliser l’IHM de Kong Dashboard pour configurer Kong&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;how-to&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#how-to&quot; aria-label=&quot;how to permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;How to&lt;/h2&gt;
&lt;h3 id=&quot;créer-une-api&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#cr%C3%A9er-une-api&quot; aria-label=&quot;créer une api permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Créer une API&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;curl -i -X POST http://localhost:8001/apis/ \
 --data &amp;#39;name=GOT&amp;#39; \
 --data &amp;#39;upstream_url=http://anapioficeandfire.com/api/&amp;#39; \
 --data &amp;#39;request_path=/got/&amp;#39; \
 --data &amp;#39;preserve_host=false&amp;#39;\
 --data &amp;#39;strip_request_path=true&amp;#39;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;On crée une API qu’on appelle &lt;em&gt;GOT&lt;/em&gt; et qui pointe vers notre API partenaire, sur le path &lt;em&gt;/got/&lt;/em&gt; de notre API gateway. On peut désormais y accéder via l’API gateway&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;curl -i -X GET http://localhost:8000/got/characters/583&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;activer-lauthentification&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#activer-lauthentification&quot; aria-label=&quot;activer lauthentification permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Activer l’authentification&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;curl -i -X POST http://localhost:8001/apis/GOT/plugins/ \
  --data &amp;#39;name=key-auth&amp;#39; \
  --data &amp;#39;config.key_names=apiKey&amp;#39;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;On associe le plugin &lt;a href=&quot;https://getkong.org/plugins/key-authentication/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;key-auth&lt;/a&gt; de Kong à notre API qui ne sera donc plus accessible sans token d’authentification&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;curl -i -X GET http://localhost:8000/got/characters/583&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;ajouter-un-utilisateur&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#ajouter-un-utilisateur&quot; aria-label=&quot;ajouter un utilisateur permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Ajouter un utilisateur&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;curl -i -X POST http://localhost:8001/consumers/ \
  --data &amp;quot;username=erwan&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;autoriser-ce-nouvel-utilisateur-à-accéder-à-lapi&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#autoriser-ce-nouvel-utilisateur-%C3%A0-acc%C3%A9der-%C3%A0-lapi&quot; aria-label=&quot;autoriser ce nouvel utilisateur à accéder à lapi permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Autoriser ce nouvel utilisateur à accéder à l’API&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;curl -i -X POST http://localhost:8001/consumers/erwan/key-auth \
  --data &amp;quot;key=secret&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Notre API est donc bien sécurisée, et seulement accessible avec la clé d’authentification&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;curl -i -X GET [http://localhost:8000/got/characters/583](http://localhost:8000/got/characters/583)
curl -i -X GET [http://localhost:8000/got/characters/583](http://localhost:8000/got/characters/583)?apiKey=secret&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;activer-le-rate-limiting&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#activer-le-rate-limiting&quot; aria-label=&quot;activer le rate limiting permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Activer le &lt;a href=&quot;https://getkong.org/plugins/rate-limiting/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;rate-limiting&lt;/a&gt;&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;curl -X POST  http://localhost:8001/apis/GOT/plugins \
  --data &amp;quot;name=rate-limiting&amp;quot; \
  --data &amp;quot;config.hour=2&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Notre API est à présent limitée à 2 appels par heure.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;curl -i -X GET http://localhost:8000/got/characters/583?apiKey=secret
curl -i -X GET http://localhost:8000/got/characters/583?apiKey=secret
curl -i -X GET http://localhost:8000/got/characters/583?apiKey=secret&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;L’accès à notre API peut à présent se faire via notre API manager après seulement quelques minutes de configuration. Grâce à Kong, on pourra par la suite ajouter des contraintes d’accès, des règles de réécriture de requêtes ou encore du monitoring sans devoir modifier notre coeur métier, ou demander à nos partenaires de le faire.&lt;/p&gt;
&lt;p&gt;N’hésitez pas non plus à parcourir le site de Kong, et sa documentation plutôt complète pour voir tout ce qu’il pourrait faire pour vous.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://getkong.org/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Site officiel - https://getkong.org/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Par ailleurs, vous pourrez retrouver la configuration décrite précédemnt directement &lt;a href=&quot;https://github.com/d3rwan/kong_docker_stack&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;sur ce repo github&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Et devenez le &lt;em&gt;king&lt;/em&gt; de vos API’s!&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Yarn, un n-ième package-manager ?]]></title><description><![CDATA[Qu’est-ce que se cache vraiment derrière ce n-ième package-manager, annoncé il y a quelques semaines par Facebook]]></description><link>https://d3rwan.github.io/d3rwan-blog/posts/yarn</link><guid isPermaLink="false">https://d3rwan.github.io/d3rwan-blog/posts/yarn</guid><pubDate>Thu, 10 Nov 2016 12:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Npm, Bower, JSPM… A chaque saison son nouveau package-manager dans l’écosystème JS. Le dernier né, Yarn, a été annoncé il y a quelques semaines par les développpeurs de Facebook. Alors, qu’est-ce que se cache vraiment derrière ce n-ième package-manager ?&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://code.facebook.com/posts/1840075619545360&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Yarn: A new package manager for JavaScript&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;En premier lieu, Yarn n’a pas l’objectif de remplacer npm ou bower. Il s’agit avant-tout d’un nouveau client ligne de commande permettant la récupération de dépendances depuis le registry npm.&lt;/p&gt;
&lt;p&gt;Il propose en outre les améliorations suivantes :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Performance&lt;/strong&gt;
Optimisation des appels et maximisation de l’utilisation réseau, notamment via un mécanisme d’analyse de l’arbre des dépendances et de parallélisation des requêtes (vs. en série pour npm)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Déterministe&lt;/strong&gt;
Pour un même projet, les mêmes dépendances seront installées de la même manière sur tous les environnements (plus d’effet &lt;em&gt;“ it works on my machine”&lt;/em&gt;)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Fonctionnement offline&lt;/strong&gt;
Une fois un package installé, il est mis en cache et pourra être installé ensuite sans connexion internet&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Résilience&lt;/strong&gt;
Le processus d’installation est plus robuste, notamment dans le cas de coupure réseau (rejeu des requêtes vs. processus d’installation en erreur)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Registre multiple&lt;/strong&gt;
Possibilité de récupérer des sources depuis plusieurs registres (npm, bower, github, …)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Sécurité&lt;/strong&gt;
Utilisation de checksums pour vérifier l’intégrité des dépendances&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;mise-en-place&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#mise-en-place&quot; aria-label=&quot;mise en place permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Mise en place&lt;/h2&gt;
&lt;p&gt;Pour installer Yarn, le plus simple est encore d’utiliser… npm.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;npm install -g yarn&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Dès lors, on peut utiliser le client yarn en lieu et place du client npm&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;# npm install
yarn

# npm init
yarn init

# npm install angular --save
yarn add angular 

# npm install gulp --global
yarn global agg gulp

# npm uninstall angular --save
yarn remove angular

# npm install angular-mocks --save-dev
yarn add angular-mocks --dev&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;/d3rwan-blog/media/yarn/yarn_loading.gif&quot; alt=&quot;Installation avec Yarn&quot;&gt;&lt;em&gt;Installation avec Yarn&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Pour le reste, on continue d’utiliser le fichier &lt;em&gt;package.json&lt;/em&gt; pour lister les dépendances d’un projet, dépendances qui seront toujours stockées dans le répertoire &lt;em&gt;node_modules&lt;/em&gt;. Yarn ajoute néanmoins un nouveau fichier &lt;em&gt;yarn.lock&lt;/em&gt;. C’est ce fichier qui va garantir l’installation déterministe, puisqu’il va lister chaque dépendance, la version exacte à utiliser, l’ordre d’installation etc… Ce fichier sera crée lors de la première installation par Yarn, puis mis à jour ensuite lors de chaque modification.&lt;/p&gt;
&lt;p&gt;Il est important de noter que ce fichier doit &lt;strong&gt;être présent sur chaque environnement&lt;/strong&gt; afin de garantir une installation &lt;strong&gt;déterministe&lt;/strong&gt;, et donc qu’il &lt;strong&gt;doit être versionné&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Et les perfs dans tout ca ? Sur un benchmark sur le site de Yarn (donc probablement hyper objectif), les chiffres sont là. C’est &lt;em&gt;vachement&lt;/em&gt; plus rapide dans la plupart des cas.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/d3rwan-blog/media/yarn/bench.png&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/d3rwan-blog/media/yarn/bench2.png&quot; alt=&quot;Benchmark NPM / YARN (source: [https://yarnpkg.com/en/compare](https://yarnpkg.com/en/compare))&quot;&gt;&lt;em&gt;Benchmark NPM / YARN (source: &lt;a href=&quot;https://yarnpkg.com/en/compare&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;https://yarnpkg.com/en/compare&lt;/a&gt;)&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Et en réalité ?&lt;/p&gt;
&lt;p&gt;Pour comparer les performance entre les deux outils, j’ai utilisé l’utilitaire &lt;a href=&quot;https://www.npmjs.com/package/npmvsyarn&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;npmvsyarn&lt;/a&gt; qui permet de comparer pour une librairie ou un projet (contenant un &lt;em&gt;package.json&lt;/em&gt;) donnés les performances entre l’utilisation de npm &amp;#x26; celle de Yarn.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/d3rwan-blog/media/yarn/ex.png&quot; alt=&quot;Exemple avec les librairies Angular &amp;#x26; React&quot;&gt;&lt;em&gt;Exemple avec les librairies Angular &amp;#x26; React&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Concernant l’ajout/suppression d’une librairie seule, Yarn est effectivement plus rapide (jusqu’à 50%), en particulier lorsque le cache et le fichier yarn.lock existe.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/d3rwan-blog/media/yarn/ex2.png&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/d3rwan-blog/media/yarn/ex3.png&quot; alt=&quot;Exemple avec un projet React ([redux-webpack-es6-boilerplate](https://github.com/nicksp/redux-webpack-es6-boilerplate)) et un projet Angular ([angular1.4-ES6-material-webpack-boilerplate](https://github.com/shprink/angular1.4-ES6-material-webpack-boilerplate))&quot;&gt;&lt;em&gt;Exemple avec un projet React (&lt;a href=&quot;https://github.com/nicksp/redux-webpack-es6-boilerplate&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;redux-webpack-es6-boilerplate&lt;/a&gt;) et un projet Angular (&lt;a href=&quot;https://github.com/shprink/angular1.4-ES6-material-webpack-boilerplate&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;angular1.4-ES6-material-webpack-boilerplate&lt;/a&gt;)&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Sur un projet complet, Yarn s’en sort mieux également (jusqu’à 2.5 fois plus rapide). Là encore, on voit que la présence du cache et du &lt;em&gt;yarn.lock&lt;/em&gt; améliore d’autant plus les performances.&lt;/p&gt;
&lt;p&gt;Bien évidemment, ces exemples sont trop limités pour être représentatifs. Néanmoins, le site &lt;em&gt;berriart.com&lt;/em&gt; propose un benchmark plus complet des deux outils sur différents environnements d’intégration continue.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.berriart.com/blog/2016/10/npm-yarn-benchmark/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;NPM vs Yarn benchmark&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Là encore, les résultats vont dans le même sens:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;Yarn est entre 2x et 3x plus rapide que npm&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;conclusion&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#conclusion&quot; aria-label=&quot;conclusion permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;Après quelques heures d’utilisation, Yarn semble répondre aux attentes qu’il a suscité: plus rapide que npm, avec des fonctionnalités équivalentes, et une migration sans heurts.&lt;/p&gt;
&lt;p&gt;Bien qu’il soit sans doute peut-être un peu tôt pour l’utiliser sur un projet structurant en production, il semble dès aujourd’hui être une alternative crédible au client npm par défaut. On pourra donc facilement l’utiliser sur un nouveau projet ou un projet annexe, afin de confirmer toutes les bonnes prédispositions affichées.&lt;/p&gt;
&lt;p&gt;Quant au futur, on ne peut qu’espérer qu’il permette l’amélioration de l’existant, que se soit en poussant à l’amélioration de npm ou en devenant un standard defacto. A moins qu’un petit-nouveau n’arrive d’ici là, et change encore la donne…&lt;/p&gt;</content:encoded></item><item><title><![CDATA[An ELK stack from scratch, with Docker]]></title><description><![CDATA[Or how to deploy a complete monitoring architecture in few minutes]]></description><link>https://d3rwan.github.io/d3rwan-blog/posts/elk-from-scratch</link><guid isPermaLink="false">https://d3rwan.github.io/d3rwan-blog/posts/elk-from-scratch</guid><pubDate>Wed, 28 Sep 2016 14:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Or how to deploy a complete monitoring architecture in few minutes.&lt;/p&gt;
&lt;h2 id=&quot;monitor&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#monitor&quot; aria-label=&quot;monitor permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Monitor.&lt;/h2&gt;
&lt;p&gt;In few years, monitoring has become an indispensable activity in the IT world. Technical or functional, whether it provides metrics, charts, or other KPIs, monitoring its system has become a must-have.&lt;/p&gt;
&lt;p&gt;In the rest of the article, we will learn how to deploy a monitoring architecture from scratch, in few minutes, thanks to Docker.&lt;/p&gt;
&lt;h2 id=&quot;the-stack&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#the-stack&quot; aria-label=&quot;the stack permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;The stack.&lt;/h2&gt;
&lt;p&gt;First off, we will use the ELK stack, which has become in a few years a credible alternative to other monitoring solutions (Splunk, SAAS …).&lt;/p&gt;
&lt;p&gt;It is based on the following software:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;E&lt;/strong&gt; as &lt;em&gt;Elasticsearch&lt;/em&gt;, search engine which provide full text search &amp;#x26; analytics,&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;L&lt;/strong&gt; as &lt;em&gt;Logstash&lt;/em&gt;, an ETL for retrieving data from heterogeneous sources, transforming them and sending them to &lt;em&gt;Elasticsearch&lt;/em&gt;,&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;K&lt;/strong&gt; as &lt;em&gt;Kibana&lt;/em&gt;, which provide an UI for exploring data, and create interactive dashboards&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;But also :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;R&lt;/strong&gt; as *Redis, *an upstream broker which will serve as buffer in case of latency of the system, while avoiding excessive congestion in case of a peak,&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;C&lt;/strong&gt; as &lt;em&gt;Curator&lt;/em&gt;, a tool to manage our index&lt;/li&gt;
&lt;li&gt;**B *&lt;em&gt;as *Beats&lt;/em&gt;, client-side agent to send the logs/metrics to our stack&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;/d3rwan-blog/media/elk/stack-elk.jpeg&quot; alt=&quot;The complete architecture&quot;&gt;&lt;em&gt;The complete architecture&lt;/em&gt;&lt;/p&gt;
&lt;h2 id=&quot;deploy&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#deploy&quot; aria-label=&quot;deploy permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Deploy.&lt;/h2&gt;
&lt;p&gt;We will use Docker containers for each stack component.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://hub.docker.com/_/elasticsearch/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Elasticsearch&lt;/a&gt; (5.1.2),&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://hub.docker.com/_/logstash/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Logstash&lt;/a&gt; (5.1.2),&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://hub.docker.com/_/kibana/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Kibana&lt;/a&gt; (5.1.2),&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://hub.docker.com/_/redis/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Redis&lt;/a&gt; (3.2.6),&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://hub.docker.com/r/bobrik/curator/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Curator&lt;/a&gt; (4.0.4)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Services and interactions are described in a docker-compose.yml file:&lt;/p&gt;
&lt;p&gt;&lt;div id=&quot;gist40308415&quot; class=&quot;gist&quot;&gt;
    &lt;div class=&quot;gist-file&quot;&gt;
      &lt;div class=&quot;gist-data&quot;&gt;
        &lt;div class=&quot;js-gist-file-update-container js-task-list-container file-box&quot;&gt;
  &lt;div id=&quot;file-docker-compose-yml&quot; class=&quot;file&quot;&gt;
    

  &lt;div itemprop=&quot;text&quot; class=&quot;Box-body p-0 blob-wrapper data type-yaml &quot;&gt;
      
&lt;table class=&quot;highlight tab-size js-file-line-container&quot; data-tab-size=&quot;8&quot; data-paste-markdown-skip&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L1&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;1&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC1&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-ent&quot;&gt;version&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;2&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L2&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;2&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC2&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L3&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;3&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC3&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-ent&quot;&gt;services&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L4&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;4&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC4&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;#&lt;/span&gt; brocker&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L5&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;5&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC5&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=&quot;pl-ent&quot;&gt;redis&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L6&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;6&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC6&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;image&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;redis:3.2.6&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L7&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;7&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC7&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;container_name&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;redis&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L8&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;8&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC8&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;ports&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L9&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;9&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC9&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      - &lt;span class=&quot;pl-c1&quot;&gt;6379:6379&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L10&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;10&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC10&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;volumes&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L11&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;11&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC11&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      - &lt;span class=&quot;pl-s&quot;&gt;redis-data:/data&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L12&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;12&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC12&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;networks&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L13&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;13&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC13&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      - &lt;span class=&quot;pl-s&quot;&gt;logging&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L14&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;14&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC14&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;#&lt;/span&gt; index, search &amp;amp; agregation&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L15&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;15&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC15&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=&quot;pl-ent&quot;&gt;elasticsearch&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L16&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;16&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC16&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;image&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;elasticsearch:5.1.2&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L17&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;17&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC17&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;container_name&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;elastic&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L18&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;18&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC18&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;environment&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L19&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;19&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC19&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      - &lt;span class=&quot;pl-s&quot;&gt;ES_JAVA_OPTS=-Xms1g -Xmx1g&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L20&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;20&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC20&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;ports&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L21&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;21&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC21&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      - &lt;span class=&quot;pl-c1&quot;&gt;9200:9200&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L22&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;22&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC22&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      - &lt;span class=&quot;pl-c1&quot;&gt;9300:9300&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L23&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;23&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC23&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;volumes&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L24&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;24&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC24&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      - &lt;span class=&quot;pl-s&quot;&gt;$PWD/elasticsearch/config/elasticsearch.yml:/usr/share/elasticsearch/config/elasticsearch.yml&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L25&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;25&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC25&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      - &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;es-data:/usr/share/elasticsearch/data&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L26&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;26&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC26&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;networks&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L27&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;27&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC27&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      - &lt;span class=&quot;pl-s&quot;&gt;logging&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L28&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;28&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC28&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;#&lt;/span&gt; UI&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L29&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;29&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC29&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=&quot;pl-ent&quot;&gt;kibana&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L30&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;30&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC30&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;image&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;kibana:5.1.2&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L31&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;31&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC31&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;container_name&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;kibana&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L32&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;32&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC32&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;ports&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L33&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;33&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC33&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      - &lt;span class=&quot;pl-c1&quot;&gt;5601:5601&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L34&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;34&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC34&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;volumes&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L35&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;35&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC35&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      - &lt;span class=&quot;pl-s&quot;&gt;$PWD/kibana/config/kibana.yml:/etc/kibana/kibana.yml&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L36&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;36&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC36&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;networks&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L37&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;37&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC37&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      - &lt;span class=&quot;pl-s&quot;&gt;logging&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L38&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;38&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC38&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;depends_on&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L39&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;39&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC39&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      - &lt;span class=&quot;pl-s&quot;&gt;elasticsearch&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L40&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;40&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC40&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;#&lt;/span&gt; indexer&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L41&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;41&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC41&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=&quot;pl-ent&quot;&gt;logstash&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L42&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;42&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC42&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;image&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;logstash:5.1.2&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L43&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;43&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC43&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;container_name&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;logstash&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L44&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;44&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC44&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;command&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;logstash -f /config/&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L45&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;45&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC45&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;environment&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L46&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;46&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC46&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      - &lt;span class=&quot;pl-s&quot;&gt;JAVA_OPTS=-Xms1g -Xmx1g&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L47&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;47&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC47&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;volumes&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L48&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;48&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC48&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      - &lt;span class=&quot;pl-s&quot;&gt;$PWD/logstash/config:/config&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L49&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;49&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC49&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;networks&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L50&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;50&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC50&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      - &lt;span class=&quot;pl-s&quot;&gt;logging&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L51&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;51&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC51&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;depends_on&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L52&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;52&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC52&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      - &lt;span class=&quot;pl-s&quot;&gt;elasticsearch&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L53&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;53&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC53&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      - &lt;span class=&quot;pl-s&quot;&gt;redis&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L54&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;54&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC54&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L55&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;55&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC55&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-ent&quot;&gt;volumes&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L56&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;56&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC56&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=&quot;pl-ent&quot;&gt;es-data&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L57&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;57&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC57&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;driver&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;local&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L58&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;58&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC58&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=&quot;pl-ent&quot;&gt;redis-data&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L59&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;59&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC59&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;driver&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;local&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L60&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;60&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC60&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L61&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;61&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC61&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-ent&quot;&gt;networks&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L62&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;62&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC62&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=&quot;pl-ent&quot;&gt;logging&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L63&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;63&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC63&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;driver&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;bridge&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
&lt;/table&gt;


  &lt;/div&gt;

  &lt;/div&gt;
&lt;/div&gt;

      &lt;/div&gt;
      &lt;div class=&quot;gist-meta&quot;&gt;
        &lt;a href=&quot;https://gist.github.com/d3rwan/66311cf71c8398aae0be32e47f270bab/raw/82a27cb75de0e72f2f67e1a2d72a94d7b7317678/docker-compose.yml&quot; style=&quot;float:right&quot;&gt;view raw&lt;/a&gt;
        &lt;a href=&quot;https://gist.github.com/d3rwan/66311cf71c8398aae0be32e47f270bab#file-docker-compose-yml&quot;&gt;docker-compose.yml&lt;/a&gt;
        hosted with &amp;#10084; by &lt;a href=&quot;https://github.com&quot;&gt;GitHub&lt;/a&gt;
      &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;A viable configuration is also available on my github account : &lt;a href=&quot;https://github.com/d3rwan/docker_elk_stack&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;docker&lt;em&gt;elk&lt;/em&gt;stack&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&quot;hello-world&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#hello-world&quot; aria-label=&quot;hello world permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Hello, world.&lt;/h2&gt;
&lt;p&gt;Based on this repository, we will deploy a functional stack:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;# clone repo &amp;amp; build images
git clone [https://github.com/d3rwan/docker_elk_stack](https://github.com/d3rwan/docker_elk_stack)
cd docker_elk_stack
docker-compose build

# run (daemon)
docker-compose up -d

# show logs
docker-compose logs&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;After startup, you should be able to access Kibana (port 5601).&lt;/p&gt;
&lt;p&gt;Then, we will deploy a basic example web app (NGinx serving HTML + Filebeat agent to send log in our stack)&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;# build image
docker build ./webapp -t dockerelkstack_webapp

# run (daemon)
docker run --network dockerelkstack_logging --link redis:redis -p 80:80 -d --name webapp dockerelkstack_webapp

# show logs
docker logs webapp&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;After startup, you should be able to access the web app (port 80).&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/d3rwan-blog/media/elk/joliadmin.png&quot; alt=&quot;Example web app capture (source: [https://github.com/sbilly/joli-admin](https://github.com/sbilly/joli-admin))&quot;&gt;&lt;em&gt;Example web app capture (source: &lt;a href=&quot;https://github.com/sbilly/joli-admin&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;https://github.com/sbilly/joli-admin&lt;/a&gt;)&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;After few minutes browsing, returning to Kibana. An index (*logstash-**) is now available.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/d3rwan-blog/media/elk/configure-pattern.png&quot; alt=&quot;Kibana: Index pattern configuration screen (here, logstash-* index is available)&quot;&gt;&lt;em&gt;Kibana: Index pattern configuration screen (here, logstash-&lt;/em&gt; index is available)*&lt;/p&gt;
&lt;p&gt;After creating index, we can now exploring our web app logs (Discover tab), create visualizations (Visualize tab) and dashboards (Dashboard tab).&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/d3rwan-blog/media/elk/response.png&quot; alt=&quot;Kibana: Exploring the raw logs&quot;&gt;&lt;em&gt;Kibana: Exploring the raw logs&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/d3rwan-blog/media/elk/analytics.png&quot; alt=&quot;Kibana: Analytic dashboard&quot;&gt;&lt;em&gt;Kibana: Analytic dashboard&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;And… voilà! In just few minutes, we set up, an operational monitoring stack.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Une stack ELK from scratch avec Docker]]></title><description><![CDATA[Ou comment déployer une architecture de monitoring en quelques minutes]]></description><link>https://d3rwan.github.io/d3rwan-blog/posts/elk-depuis-zero</link><guid isPermaLink="false">https://d3rwan.github.io/d3rwan-blog/posts/elk-depuis-zero</guid><pubDate>Wed, 28 Sep 2016 12:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Ou comment déployer une architecture de monitoring en quelques minutes.&lt;/p&gt;
&lt;h2 id=&quot;mo-ni-to-rer&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#mo-ni-to-rer&quot; aria-label=&quot;mo ni to rer permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;strong&gt;&lt;em&gt;Mo-ni-to-rer.&lt;/em&gt;&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;En quelques années, le monitoring est devenu une activité indispensable dans le monde de l’IT. Qu’il soit technique ou fonctionnel, qu’il fournisse des métriques, charts, ou autres KPI, le monitoring de son système est devenu un must-have.&lt;/p&gt;
&lt;p&gt;Dans la suite de l’article, nous allons voir comment déployer une architecture de monitoring à partir de zéro, en quelques minutes, grâce à Docker.&lt;/p&gt;
&lt;h2 id=&quot;la-stack&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#la-stack&quot; aria-label=&quot;la stack permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;La stack.&lt;/h2&gt;
&lt;p&gt;Pour commencer, nous nous appuyerons sur la stack &lt;strong&gt;&lt;em&gt;ELK&lt;/em&gt;&lt;/strong&gt; qui, en quelques années, est devenue une alternative crédible aux autres solutions de monitoring (Splunk, solutions SAAS…).&lt;/p&gt;
&lt;p&gt;Elle se compose des éléments suivants:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;E&lt;/strong&gt; comme &lt;em&gt;Elasticsearch&lt;/em&gt;, le moteur d’indexation, de recherche &amp;#x26; d’analytics,&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;L&lt;/strong&gt; comme &lt;em&gt;Logstash&lt;/em&gt;, un ETL permettant de récupérer les données dans des sources hétérogènes, les transformer et les envoyer vers Elasticsearch,&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;K&lt;/strong&gt; comme &lt;em&gt;Kibana&lt;/em&gt;, un IHM de visualisation et de générations de tableaux de bord interactifs&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Nous ajouterons également :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;R&lt;/strong&gt; comme *Redis, *utilisé comme broker en amont, qui servira de buffer en cas de latence du système, tout en évitant un engorgement trop important en cas de pic,&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;C&lt;/strong&gt; comme &lt;em&gt;Curator&lt;/em&gt;, un outil de management des indexs&lt;/li&gt;
&lt;li&gt;**B *&lt;em&gt;comme *Beats&lt;/em&gt;, sondes à installer côté client afin d’envoyer les logs/métriques à notre stack&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;/d3rwan-blog/media/elk/stack-elk.jpeg&quot; alt=&quot;Stack de monitoring&quot;&gt;&lt;em&gt;Notre stack de monitoring&lt;/em&gt;&lt;/p&gt;
&lt;h2 id=&quot;déploiement&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#d%C3%A9ploiement&quot; aria-label=&quot;déploiement permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;strong&gt;&lt;em&gt;Déploiement.&lt;/em&gt;&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;Nous utiliserons des conteneurs Docker pour chacun des composants de notre stack.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://hub.docker.com/_/elasticsearch/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Elasticsearch&lt;/a&gt;, dans sa version 5.1.2,&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://hub.docker.com/_/logstash/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Logstash&lt;/a&gt;, dans sa version 5.1.2,&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://hub.docker.com/_/kibana/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Kibana&lt;/a&gt;, dans sa version 5.1.2,&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://hub.docker.com/_/redis/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Redis&lt;/a&gt;, dans sa version 3.2.6,&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://hub.docker.com/r/bobrik/curator/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Curator&lt;/a&gt;, dans sa version 4.0.4&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;L’ensemble des services et des interactions sont décrites dans un fichier docker-compose.yml:&lt;/p&gt;
&lt;p&gt;&lt;div id=&quot;gist40308415&quot; class=&quot;gist&quot;&gt;
    &lt;div class=&quot;gist-file&quot;&gt;
      &lt;div class=&quot;gist-data&quot;&gt;
        &lt;div class=&quot;js-gist-file-update-container js-task-list-container file-box&quot;&gt;
  &lt;div id=&quot;file-docker-compose-yml&quot; class=&quot;file&quot;&gt;
    

  &lt;div itemprop=&quot;text&quot; class=&quot;Box-body p-0 blob-wrapper data type-yaml &quot;&gt;
      
&lt;table class=&quot;highlight tab-size js-file-line-container&quot; data-tab-size=&quot;8&quot; data-paste-markdown-skip&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L1&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;1&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC1&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-ent&quot;&gt;version&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;2&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L2&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;2&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC2&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L3&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;3&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC3&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-ent&quot;&gt;services&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L4&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;4&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC4&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;#&lt;/span&gt; brocker&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L5&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;5&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC5&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=&quot;pl-ent&quot;&gt;redis&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L6&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;6&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC6&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;image&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;redis:3.2.6&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L7&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;7&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC7&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;container_name&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;redis&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L8&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;8&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC8&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;ports&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L9&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;9&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC9&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      - &lt;span class=&quot;pl-c1&quot;&gt;6379:6379&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L10&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;10&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC10&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;volumes&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L11&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;11&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC11&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      - &lt;span class=&quot;pl-s&quot;&gt;redis-data:/data&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L12&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;12&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC12&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;networks&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L13&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;13&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC13&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      - &lt;span class=&quot;pl-s&quot;&gt;logging&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L14&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;14&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC14&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;#&lt;/span&gt; index, search &amp;amp; agregation&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L15&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;15&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC15&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=&quot;pl-ent&quot;&gt;elasticsearch&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L16&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;16&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC16&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;image&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;elasticsearch:5.1.2&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L17&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;17&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC17&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;container_name&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;elastic&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L18&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;18&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC18&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;environment&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L19&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;19&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC19&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      - &lt;span class=&quot;pl-s&quot;&gt;ES_JAVA_OPTS=-Xms1g -Xmx1g&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L20&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;20&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC20&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;ports&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L21&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;21&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC21&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      - &lt;span class=&quot;pl-c1&quot;&gt;9200:9200&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L22&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;22&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC22&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      - &lt;span class=&quot;pl-c1&quot;&gt;9300:9300&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L23&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;23&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC23&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;volumes&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L24&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;24&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC24&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      - &lt;span class=&quot;pl-s&quot;&gt;$PWD/elasticsearch/config/elasticsearch.yml:/usr/share/elasticsearch/config/elasticsearch.yml&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L25&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;25&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC25&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      - &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;es-data:/usr/share/elasticsearch/data&lt;span class=&quot;pl-pds&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L26&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;26&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC26&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;networks&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L27&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;27&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC27&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      - &lt;span class=&quot;pl-s&quot;&gt;logging&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L28&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;28&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC28&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;#&lt;/span&gt; UI&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L29&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;29&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC29&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=&quot;pl-ent&quot;&gt;kibana&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L30&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;30&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC30&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;image&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;kibana:5.1.2&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L31&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;31&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC31&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;container_name&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;kibana&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L32&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;32&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC32&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;ports&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L33&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;33&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC33&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      - &lt;span class=&quot;pl-c1&quot;&gt;5601:5601&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L34&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;34&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC34&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;volumes&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L35&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;35&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC35&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      - &lt;span class=&quot;pl-s&quot;&gt;$PWD/kibana/config/kibana.yml:/etc/kibana/kibana.yml&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L36&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;36&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC36&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;networks&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L37&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;37&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC37&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      - &lt;span class=&quot;pl-s&quot;&gt;logging&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L38&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;38&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC38&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;depends_on&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L39&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;39&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC39&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      - &lt;span class=&quot;pl-s&quot;&gt;elasticsearch&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L40&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;40&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC40&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;#&lt;/span&gt; indexer&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L41&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;41&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC41&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=&quot;pl-ent&quot;&gt;logstash&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L42&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;42&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC42&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;image&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;logstash:5.1.2&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L43&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;43&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC43&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;container_name&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;logstash&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L44&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;44&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC44&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;command&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;logstash -f /config/&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L45&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;45&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC45&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;environment&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L46&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;46&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC46&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      - &lt;span class=&quot;pl-s&quot;&gt;JAVA_OPTS=-Xms1g -Xmx1g&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L47&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;47&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC47&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;volumes&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L48&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;48&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC48&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      - &lt;span class=&quot;pl-s&quot;&gt;$PWD/logstash/config:/config&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L49&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;49&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC49&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;networks&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L50&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;50&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC50&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      - &lt;span class=&quot;pl-s&quot;&gt;logging&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L51&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;51&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC51&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;depends_on&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L52&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;52&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC52&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      - &lt;span class=&quot;pl-s&quot;&gt;elasticsearch&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L53&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;53&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC53&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;      - &lt;span class=&quot;pl-s&quot;&gt;redis&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L54&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;54&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC54&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L55&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;55&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC55&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-ent&quot;&gt;volumes&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L56&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;56&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC56&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=&quot;pl-ent&quot;&gt;es-data&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L57&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;57&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC57&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;driver&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;local&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L58&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;58&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC58&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=&quot;pl-ent&quot;&gt;redis-data&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L59&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;59&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC59&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;driver&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;local&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L60&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;60&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC60&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L61&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;61&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC61&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-ent&quot;&gt;networks&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L62&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;62&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC62&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=&quot;pl-ent&quot;&gt;logging&lt;/span&gt;:&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-compose-yml-L63&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;63&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-compose-yml-LC63&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=&quot;pl-ent&quot;&gt;driver&lt;/span&gt;: &lt;span class=&quot;pl-s&quot;&gt;bridge&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
&lt;/table&gt;


  &lt;/div&gt;

  &lt;/div&gt;
&lt;/div&gt;

      &lt;/div&gt;
      &lt;div class=&quot;gist-meta&quot;&gt;
        &lt;a href=&quot;https://gist.github.com/d3rwan/66311cf71c8398aae0be32e47f270bab/raw/82a27cb75de0e72f2f67e1a2d72a94d7b7317678/docker-compose.yml&quot; style=&quot;float:right&quot;&gt;view raw&lt;/a&gt;
        &lt;a href=&quot;https://gist.github.com/d3rwan/66311cf71c8398aae0be32e47f270bab#file-docker-compose-yml&quot;&gt;docker-compose.yml&lt;/a&gt;
        hosted with &amp;#10084; by &lt;a href=&quot;https://github.com&quot;&gt;GitHub&lt;/a&gt;
      &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;Pour chacun des services, on va définir si besoin les ports à exposer ou les volumes à utiliser (notamment les fichiers de configuration). Un exemple de configuration viable est disponible sur mon compte github : &lt;a href=&quot;https://github.com/d3rwan/docker_elk_stack&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;docker_elk_stack&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&quot;hello-world&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#hello-world&quot; aria-label=&quot;hello world permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Hello, world&lt;/h2&gt;
&lt;p&gt;En se basant sur ce repository, nous allons déployer une stack fonctionnelle:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;# clone repo &amp;amp; build images
git clone [https://github.com/d3rwan/docker_elk_stack](https://github.com/d3rwan/docker_elk_stack)
cd docker_elk_stack
docker-compose build

# run (daemon)
docker-compose up -d

# show logs
docker-compose logs&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Une fois les différents composants démarrés, vous devriez pouvoir accéder à l’interface Kibana (port 5601).&lt;/p&gt;
&lt;p&gt;Puis nous allons lancer un example d’application web (site HTML statique exposé par Nginx, ainsi qu’une sonde FileBeat permettant l’envoi des logs vers notre stack ELK)&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;# build image
docker build ./webapp -t dockerelkstack_webapp

# run (daemon)
docker run --network dockerelkstack_logging --link redis:redis -p 80:80 -d --name webapp dockerelkstack_webapp

# show logs
docker logs webapp&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Une fois notre composant démarré, vous devriez pouvoir accéder à l’application web (port 80).&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/d3rwan-blog/media/elk/joliadmin.png&quot; alt=&quot;Exemple d’application web&quot;&gt;&lt;em&gt;Exemple d’application web (source: &lt;a href=&quot;https://github.com/sbilly/joli-admin&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;https://github.com/sbilly/joli-admin&lt;/a&gt;)&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Après avoir navigué quelques minutes, en retournant sur l’IHM de Kibana, un index *logstash *est à présent disponible.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/d3rwan-blog/media/elk/configure-pattern.png&quot; alt=&quot;Configuration pattern d&amp;#x27;index&quot;&gt;&lt;em&gt;Kibana : écran de configuration d’un pattern d’index (ici, l’index logstash est détecté)&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Après avoir crée notre pattern d’index, nous pouvons à présent naviguer dans les logs de notre application web (onglet &lt;em&gt;Discover&lt;/em&gt;), créer des visualisations (onglet &lt;em&gt;Visualize&lt;/em&gt;) et des tableaux de bord (onglet &lt;em&gt;Dashboard&lt;/em&gt;)&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/d3rwan-blog/media/elk/response.png&quot; alt=&quot;Kibana: données brutes&quot;&gt;&lt;em&gt;Kibana: Visualisation brute des logs de notre application web&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/d3rwan-blog/media/elk/analytics.png&quot; alt=&quot;Kibana: tableau de bord analytique&quot;&gt;&lt;em&gt;Kibana: Tableau de bord analytique&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;And… voilà! Nous avons donc mis en place, en quelques minutes seulement, une stack de supervision opérationnelle.&lt;/p&gt;</content:encoded></item></channel></rss>